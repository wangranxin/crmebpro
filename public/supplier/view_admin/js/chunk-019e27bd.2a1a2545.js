(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-019e27bd"],{"092b":function(t,e,n){"use strict";var r=n("9c99"),i=n.n(r);i.a},8898:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":"",padding:0}},[n("div",{staticClass:"new_card_pd"},[n("Form",{ref:"specsFrom",attrs:{inline:"",model:t.specsFrom,"label-width":t.labelWidth,"label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[n("Row",{attrs:{gutter:12,type:"flex"}},[n("Col",t._b({},"Col",t.grid,!1),[n("FormItem",{attrs:{label:"搜索："}},[n("Input",{staticClass:"input-add",attrs:{placeholder:"请输入打印机名称"},model:{value:t.specsFrom.keyword,callback:function(e){t.$set(t.specsFrom,"keyword",e)},expression:"specsFrom.keyword"}})],1)],1),n("Col",t._b({},"Col",t.grid,!1),[n("FormItem",{attrs:{label:"平台："}},[n("Select",{staticClass:"input-add",model:{value:t.specsFrom.type,callback:function(e){t.$set(t.specsFrom,"type",e)},expression:"specsFrom.type"}},t._l(t.optionsList,(function(e,r){return n("Option",{key:r,attrs:{value:e.value}},[t._v(t._s(e.label)+"\n                ")])})),1),n("Button",{attrs:{type:"primary"},on:{click:t.specsSearchs}},[t._v("查询")])],1)],1)],1)],1)],1)]),n("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[n("Row",{attrs:{type:"flex"}},[n("Col",t._b({},"Col",t.grid,!1),[n("Button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加打印机")])],1)],1),n("Table",{ref:"table",staticClass:"mt25",attrs:{columns:t.columns,data:t.list,loading:t.loading,"highlight-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"},scopedSlots:t._u([{key:"type",fn:function(e){var r=e.row;return[1==r.type?n("span",[t._v("易联云")]):t._e(),2==r.type?n("span",[t._v("飞鹅云")]):t._e()]}},{key:"status",fn:function(e){var r=e.row;return[n("i-switch",{attrs:{value:r.status,"true-value":1,"false-value":0,size:"large"},on:{"on-change":function(e){return t.onchangeIsShow(r)}},model:{value:r.status,callback:function(e){t.$set(r,"status",e)},expression:"row.status"}},[n("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),n("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])]}},{key:"action",fn:function(e){var r=e.row,i=e.index;return[n("a",{on:{click:function(e){return t.setting(r.id)}}},[t._v("设置")]),n("Divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(e){return t.edit(r.id)}}},[t._v("编辑")]),n("Divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(e){return t.del(r,"删除打印机",i)}}},[t._v("删除")])]}}])}),n("div",{staticClass:"acea-row row-right page"},[n("Page",{attrs:{total:t.total,"show-elevator":"","show-total":"","page-size":t.specsFrom.limit},on:{"on-change":t.pageChange}})],1)],1)],1)},i=[],o=n("a34a"),s=n.n(o),a=n("2f62"),c=n("90e7");function u(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){u(o,r,i,s,a,"next",t)}function a(t){u(o,r,i,s,a,"throw",t)}s(void 0)}))}}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={name:"specs",data:function(){return{grid:{xl:10,lg:10,md:12,sm:24,xs:24},loading:!1,optionsList:[{value:"",label:"全部"},{value:"1",label:"易联云"},{value:"2",label:"飞鹅云"}],columns:[{title:"ID",key:"id",width:80},{title:"打印机名称",key:"print_name",minWidth:100},{title:"平台",slot:"type",minWidth:100},{title:"打印联数",key:"times",width:200},{title:"创建时间",key:"add_time",width:200},{title:"打印开关",slot:"status",width:200},{title:"操作",slot:"action",fixed:"right",width:140}],specsFrom:{page:1,limit:15,keyword:"",type:""},list:[],total:0}},computed:p({},Object(a["e"])("admin/layout",["isMobile"]),{labelWidth:function(){return this.isMobile?void 0:96},labelPosition:function(){return this.isMobile?"top":"right"}}),created:function(){this.getList()},methods:{specsSearchs:function(){this.specsFrom.page=1,this.list=[],this.getList()},getList:function(){var t=this;this.loading=!0,Object(c["i"])(this.specsFrom).then((function(e){var n=e.data;t.list=n.list,t.total=n.count,t.loading=!1})).catch((function(e){t.loading=!1,t.$Message.error(e.msg)}))},pageChange:function(t){this.specsFrom.page=t,this.getList()},onchangeIsShow:function(t){var e=this,n={id:t.id,status:t.status};Object(c["k"])(n).then(function(){var t=l(s.a.mark((function t(n){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$Message.success(n.msg);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},add:function(){var t=this;this.$modalForm(Object(c["h"])(0)).then((function(){t.getList()}))},edit:function(t){var e=this;this.$modalForm(Object(c["h"])(t)).then((function(){e.getList()}))},setting:function(t){this.$router.push({path:"/supplier/setting/document/content",query:{id:t}})},del:function(t,e,n){var r=this,i={title:e,num:n,url:"print/del/".concat(t.id),method:"DELETE",ids:""};this.$modalSure(i).then((function(t){r.$Message.success(t.msg),r.list.splice(n,1),r.list.length||(r.specsFrom.page=1==r.specsFrom.page?1:r.specsFrom.page-1),r.getList()})).catch((function(t){r.$Message.error(t.msg)}))}}},h=m,g=(n("092b"),n("2877")),b=Object(g["a"])(h,r,i,!1,null,"c233aca2",null);e["default"]=b.exports},"90e7":function(t,e,n){"use strict";n.d(e,"o",(function(){return i})),n.d(e,"l",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"m",(function(){return l})),n.d(e,"q",(function(){return d})),n.d(e,"r",(function(){return p})),n.d(e,"n",(function(){return f})),n.d(e,"e",(function(){return m})),n.d(e,"p",(function(){return h})),n.d(e,"f",(function(){return g})),n.d(e,"i",(function(){return b})),n.d(e,"h",(function(){return v})),n.d(e,"k",(function(){return y})),n.d(e,"j",(function(){return w})),n.d(e,"g",(function(){return O}));var r=n("b6bd");function i(){return Object(r["a"])({url:"/supplier",method:"get"})}function o(t){return Object(r["a"])({url:"/supplier",method:"put",data:t})}function s(t){return Object(r["a"])({url:"city",method:"get",params:t})}function a(t){return Object(r["a"])({url:"admin",method:"get",params:t})}function c(){return Object(r["a"])({url:"admin/create",method:"get"})}function u(t){return Object(r["a"])({url:"admin/".concat(t,"/edit"),method:"get"})}function l(t){return Object(r["a"])({url:"admin/set_status/".concat(t.id,"/").concat(t.status),method:"put"})}function d(t){return Object(r["a"])({url:"setting/shipping_templates/list",method:"get",params:t})}function p(t,e){return Object(r["a"])({url:"setting/shipping_templates/save/".concat(t),method:"post",data:e})}function f(t){return Object(r["a"])({url:"setting/shipping_templates/".concat(t,"/edit"),method:"get"})}function m(t){return Object(r["a"])({url:"city",method:"get",params:t})}function h(t,e){return Object(r["a"])({url:"/system/form/info/".concat(t),method:"get",params:e})}function g(t){return Object(r["a"])({url:"system/config/edit_new_build/"+t,method:"get"})}function b(t){return Object(r["a"])({url:"/print/list",method:"get",params:t})}function v(t){return Object(r["a"])({url:"/print/form/".concat(t),method:"get"})}function y(t){return Object(r["a"])({url:"/print/set_status/".concat(t.id,"/").concat(t.status),method:"post"})}function w(t,e){return Object(r["a"])({url:"/print/save_content/".concat(t),method:"post",data:e})}function O(t){return Object(r["a"])({url:"/print/content/".concat(t),method:"get"})}},"9c99":function(t,e,n){}}]);