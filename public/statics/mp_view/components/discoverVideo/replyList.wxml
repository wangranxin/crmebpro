<view><base-drawer vue-id="498acdf4-1" mode="bottom" visible="{{visible}}" zIndex="3000" background-color="transparent" mask="{{true}}" maskClosable="{{true}}" data-event-opts="{{[['^close',[['closeDrawer']]]]}}" bind:close="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="w-full bg--w111-fff relative rd-t-40rpx pt-32"><view class="text-center fs-32 text--w111-333 fw-500 mb-30">{{"评论 "+comment_num}}</view><view data-event-opts="{{[['tap',[['closeDrawer']]]]}}" class="close-btn flex-center" bindtap="__e"><text class="iconfont icon-ic_close text--w111-666 fs-24"></text></view><scroll-view hidden="{{!(!focus)}}" class="scroll-content" scroll-y="true"><view class="px-30"><block wx:if="{{$root.g0}}"><view class="reply-list"><block wx:for="{{replyList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view hidden="{{!(item.uid==uid&&item.is_show==0||item.is_show==1)}}" class="flex mt-22"><image class="w-74 h-74 rd-50-p111-" src="{{item.author_image}}" data-event-opts="{{[['tap',[['authTo',['/pages/discover/discoverUser/index?id='+item.uid]]]]]}}" bindtap="__e"></image><view class="flex-1 ml-20"><view class="w-full"><view class="fs-26 text--w111-999">{{item.author}}</view><view data-event-opts="{{[['tap',[['showReply',['$0','$1','$2'],[[['replyList','',index,'id']],[['replyList','',index,'author']],[['replyList','',index,'is_show']]]]]]]}}" class="fs-28 lh-42rpx text--w111-333" bindtap="__e">{{item.content+''}}<text hidden="{{!(!item.is_show&&item.uid==uid)}}" class="pl-8 text--w111-999">(该评论已被屏蔽)</text></view><view class="lh-36rpx flex-between-center pt-4"><view class="flex-y-center fs-24"><text class="text--w111-ccc">{{item.time_text}}</text><text data-event-opts="{{[['tap',[['delReply',['$0','$1'],[[['replyList','',index,'id']],[['replyList','',index,'comment_num']]]]]]]}}" hidden="{{!(isLogin&&uid==item.uid)}}" class="pl-24 text--w111-999" bindtap="__e">删除</text></view><view data-event-opts="{{[['tap',[['replyLike',['$0'],[[['replyList','',index]]]]]]]}}" class="flex-y-center text--w111-999" bindtap="__e"><text class="{{['iconfont','fs-30',item.isLike?'icon-icon_Like_2':'icon-ic_Like']}}"></text><text class="fs-24 lh-36rpx pl-10">{{item.like_num}}</text></view></view></view><block wx:if="{{item.show}}"><view class="mt-12 w-full"><block wx:for="{{item.children}}" wx:for-item="reply" wx:for-index="i" wx:key="i"><view hidden="{{!(reply.uid==uid&&reply.is_show==0||reply.is_show==1)}}" class="child-reply flex justify-between"><view class="flex w-full"><image class="w-36 h-36 rd-50-p111-" src="{{reply.author_image}}" data-event-opts="{{[['tap',[['authTo',['/pages/discover/discoverUser/index?id='+reply.uid]]]]]}}" bindtap="__e"></image><view class="ml-20 flex-1"><view class="text--w111-999 fs-26 lh-40rpx">{{reply.author}}</view><view data-event-opts="{{[['tap',[['showReply',['$0','$1'],[[['replyList','',index],['children','',i,'id']],[['replyList','',index],['children','',i,'author']]]]]]]}}" class="w-full fs-26 lh-42 flex-y-center flex-wrap text--w111-333" bindtap="__e"><block wx:if="{{reply.comment_author}}"><view>回复<text data-event-opts="{{[['tap',[['authTo',['/pages/discover/discoverUser/index?id='+reply.comment_reply_uid]]]]]}}" class="comment-author" bindtap="__e">{{"@"+reply.comment_author}}</text></view></block>{{''+reply.content}}<text hidden="{{!(!item.is_show&&item.uid==uid)}}" class="pl-8 text--w111-999">(该评论已被屏蔽)</text></view><view class="flex-between-center pt-4"><view class="fs-24 text--w111-ccc lh-36rpx flex-y-center"><text>{{reply.time_text}}</text><text data-event-opts="{{[['tap',[['delReply',['$0','$1'],[[['replyList','',index],['children','',i,'id']],[['replyList','',index],['children','',i,'comment_num']]]]]]]}}" hidden="{{!(isLogin&&uid==reply.uid)}}" class="pl-24 text--w111-999" bindtap="__e">删除</text></view><view data-event-opts="{{[['tap',[['replyLike',['$0'],[[['replyList','',index],['children','',i]]]]]]]}}" class="flex-y-center text--w111-999" catchtap="__e"><text class="{{['iconfont','fs-30',reply.isLike?'icon-icon_Like_2':'icon-ic_Like']}}"></text><text class="fs-24 lh-36rpx pl-10">{{reply.like_num}}</text></view></view></view></view></view></block></view></block><block wx:if="{{item.comment_num>0&&!item.show}}"><view data-event-opts="{{[['tap',[['showMore',['$0',index,1],[[['replyList','',index]]]]]]]}}" class="mt-14 flex-y-center text--w111-666 fs-26" bindtap="__e"><text class="more-line"></text><text class="pl-16">{{"展开"+item.comment_num+"条回复"}}</text><text class="iconfont icon-ic_downarrow fs-28"></text></view></block><block wx:if="{{item.comment_num>0&&item.show}}"><view data-event-opts="{{[['tap',[['showMore',['$0',index,0],[[['replyList','',index]]]]]]]}}" class="mt-14 flex-y-center text--w111-666 fs-26" bindtap="__e"><text class="more-line"></text><text class="pl-16">收起回复</text><text class="iconfont icon-ic_uparrow fs-28"></text></view></block></view></view></block></view></block><block wx:else><view><empty-page vue-id="{{('498acdf4-2')+','+('498acdf4-1')}}" title="暂无评论，快去抢沙发吧~" src="/statics/images/noActivity.gif" bind:__l="__l"></empty-page></view></block></view></scroll-view><block wx:if="{{addReply}}"><view class="h-100"></view></block><block wx:if="{{addReply}}"><view class="{{['fixed-lb','w-full',(showFooter)?'hide-bar':'']}}"><view class="h-100 px-30 flex-between-center bg--w111-fff"><input class="flex-1 h-64 rd-32rpx bg--w111-f5f5f5 pl-30 fs-26 text--w111-333" type="text" placeholder="{{placeholder}}" focus="{{focus}}" placeholder-class="text--w111-999" data-event-opts="{{[['input',[['__set_model',['','comment','$event',[]]]]]]}}" value="{{comment}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['sendText',['$event']]]]]}}" class="w-112 h-64 rd-32rpx bg-gradient flex-center fs-24 text--w111-fff ml-20" bindtap="__e">发送</view></view></view></block></view></base-drawer><tui-modal vue-id="498acdf4-3" show="{{showModal}}" title="确认删除该评论" maskClosable="{{false}}" data-event-opts="{{[['^click',[['handleClick']]]]}}" bind:click="__e" bind:__l="__l"></tui-modal></view>