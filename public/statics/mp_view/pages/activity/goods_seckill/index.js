(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/goods_seckill/index"],{5857:function(t,e,i){"use strict";i.r(e);var n=i("ab8e"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"6a47":function(t,e,i){"use strict";i.r(e);var n=i("a62f"),a=i("5857");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("e302");var c=i("828b"),s=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},a62f:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={easyLoadimage:function(){return i.e("components/easy-loadimage/easy-loadimage").then(i.bind(null,"94dd"))}},a=function(){var t=this,e=t.$createElement,i=(t._self._c,t.timeList.length>4&&t.active==t.timeList.length-1),n=t.__map(t.seckillList,(function(e,i){var n=t.__get_orig(e),a=e.store_label.length;return{$orig:n,g1:a}})),a=!t.seckillList.length&&!t.pageloading;t.$mp.data=Object.assign({},{$root:{g0:i,l0:n,g2:a}})},o=[]},ab8e:function(t,e,i){"use strict";(function(t){var n=i("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("b0fe"),o=n(i("89cc")),c=i("4d38"),s=t.getWindowInfo().statusBarHeight,l={components:{emptyPage:function(){i.e("components/emptyPage").then(function(){return resolve(i("398a"))}.bind(null,i)).catch(i.oe)}},mixins:[o.default],data:function(){return{sysHeight:s,topImage:"",seckillList:[],timeList:[],active:5,scrollLeft:0,interval:0,status:1,countDownHour:"00",countDownMinute:"00",countDownSecond:"00",page:1,limit:8,loading:!1,loadend:!1,pageloading:!1,intoindex:"",imgHost:c.HTTP_REQUEST_URL,pageScrollStatus:!1}},computed:{headerBg:function(){return"url("+this.imgHost+"/statics/images/product/seckill_header.png)"},navActiveLeft:function(){return 0==this.active?0:1==this.active?"134rpx":154*this.active+"rpx"},navActiveBg:function(){return 0==this.active?"url("+this.imgHost+"/statics/images/product/seckill_header_icon1.png)":"url("+this.imgHost+"/statics/images/product/seckill_header_icon2.png)"}},onPageScroll:function(e){e.scrollTop>200?this.pageScrollStatus=!0:e.scrollTop<200&&(this.pageScrollStatus=!1),t.$emit("scroll")},onLoad:function(){this.getSeckillConfig()},onShow:function(){t.removeStorageSync("form_type_cart")},methods:{getSeckillConfig:function(){var t=this;(0,a.getSeckillIndexTime)().then((function(e){t.topImage=e.data.lovely,t.timeList=e.data.seckillTime,t.active=e.data.seckillTimeIndex>-1?e.data.seckillTimeIndex:0,t.$nextTick((function(){t.intoindex="sort"+e.data.seckillTimeIndex>-1?e.data.seckillTimeIndex:0})),t.timeList.length&&(t.scrollLeft=100*(t.active-1.37),setTimeout((function(){t.loading=!0}),2e3),t.seckillList=[],t.page=1,t.status=t.timeList[t.active].status,t.getSeckillList())}))},getSeckillList:function(){var t=this,e={page:t.page,limit:t.limit};t.loadend||t.pageloading||(this.pageloading=!0,(0,a.getSeckillList)(t.timeList[t.active].id,e).then((function(e){var i=e.data,n=i.length<t.limit;t.page++,t.seckillList=t.seckillList.concat(i),t.page=t.page,t.pageloading=!1,t.loadend=n})).catch((function(e){t.pageloading=!1})))},settimeList:function(t,e){this.active=e,this.interval&&(clearInterval(this.interval),this.interval=null),this.interval=0,this.countDownHour="00",this.countDownMinute="00",this.countDownSecond="00",this.status=this.timeList[this.active].status,this.loadend=!1,this.page=1,this.seckillList=[],this.getSeckillList()},goDetails:function(e){t.navigateTo({url:"/pages/activity/goods_details/index?id="+e.id+"&type=1&time_id="+this.timeList[this.active].id})},goPage:function(e,i){1==e?t.navigateTo({url:i}):2==e?t.switchTab({url:i}):3==e&&t.navigateBack()}},onReachBottom:function(){this.getSeckillList()},onShareAppMessage:function(){return{title:"秒杀列表",path:"/pages/activity/goods_seckill/index"}},onShareTimeline:function(){return{title:"秒杀列表",path:"/pages/activity/goods_seckill/index"}}};e.default=l}).call(this,i("df3c")["default"])},c8c5:function(t,e,i){},e302:function(t,e,i){"use strict";var n=i("c8c5"),a=i.n(n);a.a},e604:function(t,e,i){"use strict";(function(t,e){var n=i("47a9");i("f076");n(i("3240"));var a=n(i("6a47"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(a.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])}},[["e604","common/runtime","common/vendor"]]]);