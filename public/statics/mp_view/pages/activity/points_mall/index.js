(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/points_mall/index"],{2615:function(t,e,n){"use strict";n.r(e);var a=n("6510"),i=n("4a7b");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("5a12");var r=n("828b"),l=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"7f65f974",null,!1,a["a"],void 0);e["default"]=l.exports},"4a7b":function(t,e,n){"use strict";n.r(e);var a=n("620f"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"5a12":function(t,e,n){"use strict";var a=n("fa00"),i=n.n(a);i.a},"620f":function(t,e,n){"use strict";(function(t){var a=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("5088"),o=n("8f59"),r=n("b0fe"),l=(n("95b5"),a(n("89cc"))),s=n("4d38"),c=t.getWindowInfo().statusBarHeight,u={components:{emptyPage:function(){n.e("components/emptyPage").then(function(){return resolve(n("398a"))}.bind(null,n)).catch(n.oe)},NavBar:function(){n.e("components/NavBar").then(function(){return resolve(n("a7d8"))}.bind(null,n)).catch(n.oe)}},mixins:[l.default],data:function(){return{sysHeight:c,getHeight:this.$util.getWXStatusHeight(),goodList:[],navList:[],current:0,where:{range:"",page:1,limit:10},integralGood:[],imgHost:s.HTTP_REQUEST_URL,loadend:!1,loading:!1,loadTitle:"加载更多",integral:0,pageScrollStatus:!1}},computed:(0,o.mapGetters)(["isLogin"]),onLoad:function(){this.integralCategory(),this.storeIntegralList(),this.isLogin?this.getStoreIntegral():(0,i.toLogin)()},watch:{isLogin:{handler:function(t,e){1==t&&this.getStoreIntegral()},deep:!0}},onShow:function(){t.removeStorageSync("form_type_cart")},onPageScroll:function(e){e.scrollTop>130?this.pageScrollStatus=!0:e.scrollTop<130&&(this.pageScrollStatus=!1),t.$emit("scroll")},methods:{integralCategory:function(){var t=this;(0,r.getIntegralCategory)().then((function(e){var n=e.data;n.unshift({value:"全部"}),t.navList=n})).catch((function(e){return t.$util.Tips({title:e})}))},navTap:function(t,e){this.current!==e&&(this.current=e,this.where.range=t.value,this.where.page=1,this.loadend=!1,this.$set(this,"integralGood",[]),this.storeIntegralList())},storeIntegralList:function(){var t=this;this.loadend||this.loading||(this.loading=!0,(0,r.getStoreIntegralList)(this.where).then((function(e){var n=e.data,a=t.where.limit;t.where.page++,t.loadend=a>n.length,t.integralGood=t.integralGood.concat(n),t.loading=!1,t.loadTitle=loadend?"没有更多内容啦~":"加载更多"})).catch((function(e){return t.loading=!1,t.loadTitle="加载更多",t.$util.Tips({title:e})})))},goarrow:function(){t.navigateBack()},getStoreIntegral:function(){var t=this;(0,r.getStoreIntegral)().then((function(e){t.goodList=e.data.list,t.integral=e.data.integral}))},goGoodsDetail:function(e){t.navigateTo({url:"/pages/activity/goods_details/index?id=".concat(e.id,"&type=4")})}},onReachBottom:function(){this.storeIntegralList()}};e.default=u}).call(this,n("df3c")["default"])},6510:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={easyLoadimage:function(){return n.e("components/easy-loadimage/easy-loadimage").then(n.bind(null,"94dd"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.goodList.length),a=n?t.__map(t.goodList,(function(e,n){var a=t.__get_orig(e),i=parseFloat(e.integral),o=parseFloat(e.integral)&&parseFloat(e.price),r=parseFloat(e.price);return{$orig:a,m0:i,m1:o,m2:r}})):null,i=t.integralGood.length,o=i?t.__map(t.integralGood,(function(e,n){var a=t.__get_orig(e),i=parseFloat(e.integral),o=parseFloat(e.integral)&&parseFloat(e.price),r=parseFloat(e.price);return{$orig:a,m3:i,m4:o,m5:r}})):null;t.$mp.data=Object.assign({},{$root:{g0:n,l0:a,g1:i,l1:o}})},o=[]},"7d26":function(t,e,n){"use strict";(function(t,e){var a=n("47a9");n("f076");a(n("3240"));var i=a(n("2615"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},fa00:function(t,e,n){}},[["7d26","common/runtime","common/vendor"]]]);