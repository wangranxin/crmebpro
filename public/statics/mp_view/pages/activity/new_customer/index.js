(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/new_customer/index"],{"1bf7":function(t,e,n){"use strict";(function(t,e){var o=n("47a9");n("f076");o(n("3240"));var i=o(n("68a9"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"32aa":function(t,e,n){"use strict";n.r(e);var o=n("6b8d"),i=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=i.a},"5fda":function(t,e,n){},"68a9":function(t,e,n){"use strict";n.r(e);var o=n("f347"),i=n("32aa");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("95fa");var a=n("828b"),c=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=c.exports},"6b8d":function(t,e,n){"use strict";(function(t){var o=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("7ca3")),r=n("b0fe"),a=n("92f9"),c=n("5088"),u=n("8f59"),s=n("4d38");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=t.getWindowInfo().statusBarHeight,d={components:{countDown:function(){n.e("components/countDown/index").then(function(){return resolve(n("1706"))}.bind(null,n)).catch(n.oe)},NavBar:function(){n.e("components/NavBar").then(function(){return resolve(n("a7d8"))}.bind(null,n)).catch(n.oe)},baseDrawer:function(){n.e("components/tui-drawer/tui-drawer").then(function(){return resolve(n("af01"))}.bind(null,n)).catch(n.oe)}},data:function(){return{sysHeight:g,imgHost:s.HTTP_REQUEST_URL,info:{},newList:[],loading:!1,loadend:!1,loadTitle:"加载更多",page:1,limit:9,showMore:!1,pageScrollStatus:!1,rule:"",showDrawer:!1}},filters:{typeFilter:function(t){return{0:"通用券",1:"品类券",2:"商品券",3:"品牌券"}[t]}},watch:{isLogin:{handler:function(t,e){t&&(this.getNewcomerInfo(),this.productList())},deep:!0}},computed:f(f({},(0,u.mapGetters)(["isLogin"])),{},{headerBg:function(){return"url("+this.imgHost+"/statics/images/newcomer/header.png)"}}),onLoad:function(){this.isLogin?(this.getNewcomerInfo(),this.productList(),this.getAgreeContent()):(0,c.toLogin)()},onPageScroll:function(t){t.scrollTop>80?this.pageScrollStatus=!0:t.scrollTop<80&&(this.pageScrollStatus=!1)},methods:{goAgree:function(){this.showDrawer=!this.showDrawer},getAgreeContent:function(){var t=this;(0,a.getUserAgreement)("newcomer_agreement").then((function(e){t.rule=e.data.content})).catch((function(t){that.$util.Tips({title:t.msg})}))},getNewcomerInfo:function(){var t=this;(0,r.newcomerInfo)().then((function(e){e.data.last_time=parseInt(e.data.last_time),t.info=e.data})).catch((function(e){t.$util.Tips({title:e})}))},productList:function(){var t=this,e=this;e.loading||e.loadend||(e.loading=!0,e.loadTitle="",(0,r.newcomerList)({page:e.page,limit:e.limit}).then((function(t){var n=t.data,o=n.length<e.limit;e.newList=e.$util.SplitArray(n,e.newList),e.$set(e,"newList",e.newList),e.loadend=o,e.loadTitle=o?"没有更多内容啦~":"加载更多",e.page=e.page+1,e.loading=!1})).catch((function(n){e.loading=!1,e.loadTitle="加载更多",t.$util.Tips({title:n})})))},goPage:function(e,n){1==n?t.navigateTo({url:e}):3==n&&t.navigateBack()},showMoreChange:function(){this.showMore=!this.showMore}},onReachBottom:function(){this.productList()}};e.default=d}).call(this,n("df3c")["default"])},"95fa":function(t,e,n){"use strict";var o=n("5fda"),i=n.n(o);i.a},f347:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.info.register_give_coupon?t.info.register_give_coupon.length:null),o=t.info.register_give_coupon&&n?t.__map(t.showMore?t.info.register_give_coupon:t.info.register_give_coupon.slice(0,6),(function(e,n){var o=t.__get_orig(e),i=1!=e.coupon_type?parseFloat(e.coupon_price):null,r=t._f("typeFilter")(e.applicable_type);return{$orig:o,m0:i,f0:r}})):null,i=t.info.register_give_coupon&&n?t.info.register_give_coupon.length:null,r=t.info.first_order_status?parseFloat(t.info.first_order_discount)/10||10:null,a=t.newList.length;t.$mp.data=Object.assign({},{$root:{g0:n,l0:o,g1:i,m1:r,g2:a}})},i=[]}},[["1bf7","common/runtime","common/vendor"]]]);