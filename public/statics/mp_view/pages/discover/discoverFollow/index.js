(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/discover/discoverFollow/index"],{4788:function(t,i,n){"use strict";var e=n("a83a"),a=n.n(e);a.a},"5baa":function(t,i,n){"use strict";n.r(i);var e=n("f6c8"),a=n("9b37");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(i,t,(function(){return a[t]}))}(o);n("4788");var s=n("828b"),c=Object(s["a"])(a["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=c.exports},"9b37":function(t,i,n){"use strict";n.r(i);var e=n("c48a"),a=n.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(o);i["default"]=a.a},a83a:function(t,i,n){},bb4c:function(t,i,n){"use strict";(function(t,i){var e=n("47a9");n("f076");e(n("3240"));var a=e(n("5baa"));t.__webpack_require_UNI_MP_PLUGIN__=n,i(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},c48a:function(t,i,n){"use strict";(function(t,e){var a=n("47a9");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=n("eb8a"),s=a(n("89cc")),c=t.getWindowInfo().statusBarHeight,u={data:function(){return{sysHeight:c,tabActive:0,params:{page:1,limit:20},type:"follow",loading:!1,userList:[],showModal:!1,uid:"",index:0}},mixins:[s.default],components:{emptyPage:function(){n.e("components/emptyPage").then(function(){return resolve(n("398a"))}.bind(null,n)).catch(n.oe)},tuiModal:function(){n.e("components/tui-modal/index").then(function(){return resolve(n("6b9f"))}.bind(null,n)).catch(n.oe)}},computed:{menuBoxStyle:function(){var t=e.getMenuButtonBoundingClientRect();return{width:t.left+"px"}}},onLoad:function(t){t.type&&0==t.type?(this.tabActive=1,this.type="follow",this.getList()):t.type&&1==t.type?(this.tabActive=0,this.getFriend()):t.type&&2==t.type?(this.tabActive=2,this.type="fans",this.getList()):(this.tabActive=0,this.getFriend())},methods:{changeTab:function(t){this.tabActive!=t&&(this.tabActive=t,this.loading=!1,this.userList=[],this.params.page=1,1==t?(this.type="follow",this.getList()):2==t?(this.type="fans",this.getList()):0==t&&this.getFriend())},authTo:function(i){t.navigateTo({url:i})},backPage:function(){t.navigateBack()},getList:function(){var t=this;this.loading||(this.loading=!0,(0,o.communityFlowListApi)(this.type,this.params).then((function(i){var n=i.data,e=n.length<t.params.limit;t.userList=t.userList.concat(n),t.params.page++,t.loading=e})).catch((function(i){return t.$util.Tips({title:i})})))},getFriend:function(){var t=this;this.loading||(this.loading=!0,(0,o.communityFriendListApi)(this.params).then((function(i){var n=i.data,e=n.length<t.params.limit;t.userList=t.userList.concat(n),t.params.page++,t.loading=e})).catch((function(i){return t.$util.Tips({title:i})})))},openModal:function(t,i){this.uid=t.relation_id,this.index=i,this.showModal=!0},handleClick:function(i){var n=this,e=i.index;1==e?(0,o.communitySetInsterestApi)(this.uid,{status:0}).then((function(t){n.userList[n.index].is_follow=0,n.showModal=!1})).catch((function(i){n.showModal=!1,t.showToast({title:i,icon:"none",duration:2e3})})):this.showModal=!1},followChange:function(t){var i=this;(0,o.communitySetInsterestApi)(t.relation_id,{status:1}).then((function(n){return t.is_follow=1,i.$util.Tips({title:n.msg})})).catch((function(t){return i.$util.Tips({title:t})}))},emptyText:function(){return{0:"您还没有好友哦~",1:"您还没有关注任何人哦~",2:"您还没有粉丝哦~"}[this.tabActive]}},onReachBottom:function(){this.getList()},onPageScroll:function(){t.$emit("scroll")}};i.default=u}).call(this,n("df3c")["default"],n("3223")["default"])},f6c8:function(t,i,n){"use strict";n.d(i,"b",(function(){return e})),n.d(i,"c",(function(){return a})),n.d(i,"a",(function(){}));var e=function(){var t=this.$createElement,i=(this._self._c,this.userList.length),n=this.emptyText();this.$mp.data=Object.assign({},{$root:{g0:i,m0:n}})},a=[]}},[["bb4c","common/runtime","common/vendor"]]]);