(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/discover/discoverTopic/index"],{"09f8":function(t,n,i){"use strict";i.r(n);var e=i("2893"),o=i.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return e[t]}))}(a);n["default"]=o.a},"0d54":function(t,n,i){"use strict";i.r(n);var e=i("b3c1"),o=i("09f8");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return o[t]}))}(a);i("b1a9");var c=i("828b"),s=Object(c["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);n["default"]=s.exports},2893:function(t,n,i){"use strict";(function(t){var e=i("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e(i("89cc")),a=i("eb8a"),c={data:function(){return{tabActive:0,scrollStatus:!1,contentList:[],loading:!1,params:{page:1,limit:20,topic_id:"",keyword:"",is_interest:0,order:2},topicName:"",count:1}},components:{emptyPage:function(){i.e("components/emptyPage").then(function(){return resolve(i("398a"))}.bind(null,i)).catch(i.oe)},waterfallsFlow:function(){i.e("components/discoverWaterfall/WaterfallsFlow").then(function(){return resolve(i("831d"))}.bind(null,i)).catch(i.oe)}},mixins:[o.default],computed:{navStyle:function(){return{backgroundColor:this.scrollStatus?"#fff":"transparent"}}},provide:function(){return{flowLike:this.flowLike}},onPageScroll:function(n){n.scrollTop>50?this.scrollStatus=!0:n.scrollTop<50&&(this.scrollStatus=!1),t.$emit("scroll")},onLoad:function(t){this.params.topic_id=t.id||"",this.topicName=t.name||"",this.getList(),this.getCount()},methods:{createTo:function(){t.navigateTo({url:"/pages/discover/discoverCreate/index?topic_name="+this.topicName})},changeTab:function(t){this.tabActive=t,this.params.order=0==t?2:1,this.loading=!1,this.params.page=1,this.contentList=[],this.getList()},getList:function(){var t=this;this.loading||(this.loading=!0,(0,a.communityListApi)(this.params).then((function(n){var i=n.data,e=i.length<t.params.limit;t.contentList=t.contentList.concat(i),t.params.page++,t.loading=e})))},getCount:function(){var t=this;(0,a.communityTopicCountApi)(this.params.topic_id).then((function(n){t.count=n.data.count}))},flowLike:function(t){var n=this.contentList.findIndex((function(n){return t.id==n.id}));this.contentList[n].is_like=t.status,1==t.status?this.contentList[n].like_num++:this.contentList[n].like_num--}},onReachBottom:function(){this.getList()}};n.default=c}).call(this,i("df3c")["default"])},4205:function(t,n,i){},b1a9:function(t,n,i){"use strict";var e=i("4205"),o=i.n(e);o.a},b3c1:function(t,n,i){"use strict";i.d(n,"b",(function(){return e})),i.d(n,"c",(function(){return o})),i.d(n,"a",(function(){}));var e=function(){var t=this.$createElement,n=(this._self._c,this.__get_style([this.navStyle]));this.$mp.data=Object.assign({},{$root:{s0:n}})},o=[]},dcc0:function(t,n,i){"use strict";(function(t,n){var e=i("47a9");i("f076");e(i("3240"));var o=e(i("0d54"));t.__webpack_require_UNI_MP_PLUGIN__=i,n(o.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])}},[["dcc0","common/runtime","common/vendor"]]]);