(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/discover/discoverVideo/index"],{"12b2":function(t,n,i){"use strict";(function(t,n){var e=i("47a9");i("f076");e(i("3240"));var o=e(i("5624"));t.__webpack_require_UNI_MP_PLUGIN__=i,n(o.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},"2ce8":function(t,n,i){"use strict";i.r(n);var e=i("3645"),o=i.n(e);for(var c in e)["default"].indexOf(c)<0&&function(t){i.d(n,t,(function(){return e[t]}))}(c);n["default"]=o.a},3645:function(t,n,i){"use strict";(function(t){var e=i("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e(i("7ca3")),c=e(i("89cc")),r=i("eb8a"),s=(i("92f9"),i("769c"),i("8f59"));function a(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,e)}return i}var u={name:"discoverVideo",data:function(){return{contentList:[],loading:!1,params:{page:1,limit:10,topic_id:"",keyword:"",is_interest:0,content_type:2,start_id:"",relation_id:""},infoData:{},configData:{community_status:1,community_comment_add:1,community_comment_status:1},current:0}},mixins:[c.default],components:{swiperVideo:function(){i.e("components/discoverVideo/index").then(function(){return resolve(i("5e30"))}.bind(null,i)).catch(i.oe)}},provide:function(){return{flowLike:this.flowLike}},onPageScroll:function(n){t.$emit("scroll")},computed:function(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?a(Object(i),!0).forEach((function(n){(0,o.default)(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}({},(0,s.mapGetters)(["isLogin","uid"])),onLoad:function(t){this.params.start_id=t.id,t.relation_id&&this.$set(this.params,"relation_id",t.relation_id),this.getConfig(),this.getList()},methods:{getConfig:function(){var t=this;(0,r.getCommunityConfig)().then((function(n){t.configData=n.data}))},getList:function(){var t=this;this.loading||(this.loading=!0,(0,r.communityListApi)(this.params).then((function(n){var i=n.data,e=i.length<t.params.limit;t.contentList=t.contentList.concat(i),t.params.page++,t.loading=e})))},followUser:function(t){return this.contentList[t.index].is_follow=1,this.$util.Tips({title:"关注成功"})},beforeRequest:function(t){this.current=t,this.contentList.length-1==t&&this.getList()},likeFun:function(t){this.contentList[t.index].is_like=t.status,1==t.status?this.contentList[t.index].like_num++:this.contentList[t.index].like_num--},resShare:function(t){this.infoData=t}},onReachBottom:function(){this.getList()},onShareAppMessage:function(){return{title:this.contentList[this.current].title||this.contentList[this.current].content,imageUrl:this.contentList[this.current].image,path:"/pages/discover/".concat(1==this.contentList[this.current].content_type?"discoverDetails":"discoverVideo","/index?id=").concat(this.contentList[this.current].id,"&spid=").concat(this.uid,"&relation_id=").concat(this.params.relation_id)}},onShareTimeline:function(){return{title:this.contentList[this.current].title||this.contentList[this.current].content,imageUrl:this.contentList[this.current].image,path:"/pages/discover/".concat(1==this.contentList[this.current].content_type?"discoverDetails":"discoverVideo","/index?id=").concat(this.contentList[this.current].id,"&spid=").concat(this.uid,"&relation_id=").concat(this.params.relation_id)}}};n.default=u}).call(this,i("df3c")["default"])},"4c4a":function(t,n,i){},5624:function(t,n,i){"use strict";i.r(n);var e=i("adab"),o=i("2ce8");for(var c in o)["default"].indexOf(c)<0&&function(t){i.d(n,t,(function(){return o[t]}))}(c);i("c754");var r=i("828b"),s=Object(r["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);n["default"]=s.exports},adab:function(t,n,i){"use strict";i.d(n,"b",(function(){return e})),i.d(n,"c",(function(){return o})),i.d(n,"a",(function(){}));var e=function(){var t=this.$createElement;this._self._c},o=[]},c754:function(t,n,i){"use strict";var e=i("4c4a"),o=i.n(e);o.a}},[["12b2","common/runtime","common/vendor"]]]);