(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/components/community"],{1759:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e("eb8a"),n={name:"community",props:{dataConfig:{type:Object,default:function(){}},isSortType:{type:String|Number,default:0}},data:function(){return{videoList:[],bgColor:"",infoColor:"",mbCongfig:0,prConfig:0,numConfig:0,allList:[],leftList:[],rightList:[],mark:0,boxHeight:[],type:0,updateNum:10}},computed:{navStyle:function(){return{background:"linear-gradient(90deg, ".concat(this.dataConfig.headerBgColor.color[0].item," 0%, ").concat(this.dataConfig.headerBgColor.color[1].item," 100%)")}},titleStyle:function(){switch(this.dataConfig.titleText.tabVal){case 0:"bold";break;case 2:"italic","bold";break}return{"font-style":2==this.dataConfig.titleText.tabVal?"italic":"","font-size":"".concat(2*this.dataConfig.titleNumber.val,"rpx"),"font-weight":0==this.dataConfig.titleText.tabVal?"bold":"",color:this.dataConfig.titleColor.color[0].item}},buttonStyle:function(){return{"font-size":"".concat(2*this.dataConfig.bntNumber.val,"rpx"),color:this.dataConfig.headerBntColor.color[0].item}},itemStyle:function(){var t=0,i=0;return 0==this.dataConfig.styleConfig.tabVal?i="".concat(2*this.dataConfig.videoSpace2.val,"rpx"):t="".concat(2*this.dataConfig.videoSpace.val,"rpx"),{"margin-top":t,"margin-right":i}},itemLastStyle:function(){var t=0;return this.dataConfig.styleConfig.tabVal&&(t="".concat(2*this.dataConfig.videoSpace2.val,"rpx")),{"margin-right":t}},imageRadius:function(){var t=["".concat(2*this.dataConfig.filletImg.val,"rpx")];if(this.dataConfig.filletImg.type){t=[];for(var i=0;i<this.dataConfig.filletImg.valList.length;i++)t.push("".concat(2*this.dataConfig.filletImg.valList[i].val,"rpx"))}return t.join(" ")},shortVideoWrapStyle:function(){return{padding:"".concat(2*this.dataConfig.topConfig.val,"rpx ").concat(2*this.dataConfig.prConfig.val,"rpx ").concat(2*this.dataConfig.bottomConfig.val,"rpx"),"margin-top":"".concat(2*this.dataConfig.mbConfig.val,"rpx"),background:this.dataConfig.bottomBgColor.color[0].item}},shortVideoStyle:function(){var t=null;return t=this.dataConfig.fillet.type?"".concat(2*this.dataConfig.fillet.valList[0].val,"rpx ").concat(2*this.dataConfig.fillet.valList[1].val,"rpx ").concat(2*this.dataConfig.fillet.valList[3].val,"rpx ").concat(2*this.dataConfig.fillet.valList[2].val,"rpx"):"".concat(2*this.dataConfig.fillet.val,"rpx"),{"border-radius":t}},listStyle:function(){return{background:"linear-gradient(90deg, ".concat(this.dataConfig.moduleColor.color[0].item," 0%, ").concat(this.dataConfig.moduleColor.color[1].item," 100%)")}},wfItemStyle:function(){var i=t.getWindowInfo().windowWidth;return{width:(i-30-2*this.dataConfig.prConfig.val)/2+"px"}}},watch:{videoList:{handler:function(t,i){var e=this;(!this.videoList.length||this.videoList.length===this.updateNum&&this.videoList.length<=this.allList.length)&&(this.allList=[],this.leftList=[],this.rightList=[],this.boxHeight=[],this.mark=0),this.videoList.length&&(this.allList=this.videoList,this.leftList=[],this.rightList=[],this.boxHeight=[],this.allList.forEach((function(t,i){(e.allList.length<3||e.allList.length<=7&&e.allList.length-i>1||e.allList.length>7&&e.allList.length-i>2)&&(i%2?e.rightList.push(t):e.leftList.push(t))})),this.allList.length<3?this.mark=this.allList.length+1:this.allList.length<=7?this.mark=this.allList.length-1:this.mark=this.allList.length-2,this.mark<this.allList.length&&this.waterFall())},immediate:!0,deep:!0},mark:function(){var t=this.allList.length;this.mark<t&&0!==this.mark&&this.boxHeight.length&&this.waterFall()}},mounted:function(){var t=this;(0,a.getCommunityConfig)().then((function(i){1==i.data.community_status&&t.getVideoList()}))},methods:{waterFall:function(){var t=this.mark;if(0==t)this.leftList.push(this.allList[t]),this.getViewHeight(0);else if(1==t)this.rightList.push(this.allList[t]),this.getViewHeight(1);else{if(this.boxHeight.length){var i=this.boxHeight[0]>this.boxHeight[1]?1:0;i?this.rightList.push(this.allList[t]):this.leftList.push(this.allList[t])}else this.rightList.length<this.leftList.length?this.rightList.push(this.allList[t]):this.leftList.push(this.allList[t]);this.getViewHeight()}},getViewHeight:function(){var i=this;this.$nextTick((function(){setTimeout((function(){t.createSelectorQuery().in(i).select("#right").boundingClientRect((function(e){e&&(i.boxHeight[1]=e.height),t.createSelectorQuery().in(i).select("#left").boundingClientRect((function(t){t&&(i.boxHeight[0]=t.height),i.mark=i.mark+1})).exec()})).exec()}),100)}))},itemTap:function(i){1==i.content_type?t.navigateTo({url:"/pages/discover/discoverDetails/index?id="+i.id}):t.navigateTo({url:"/pages/discover/discoverVideo/index?id="+i.id})},getVideoList:function(){var t=this;(0,a.communityListApi)({page:1,limit:this.dataConfig.numberConfig.val,topic_id:""}).then((function(i){t.videoList=i.data}))},more:function(i,e){0==i?t.reLaunch({url:"/pages/discoverIndex/index"}):1==e?t.navigateTo({url:"/pages/discover/discoverDetails/index?id="+i}):t.navigateTo({url:"/pages/discover/discoverVideo/index?id="+i})}}};i.default=n}).call(this,e("df3c")["default"])},"1d81":function(t,i,e){},4100:function(t,i,e){"use strict";e.r(i);var a=e("d968"),n=e("a4fc");for(var l in n)["default"].indexOf(l)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(l);e("be05");var o=e("828b"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);i["default"]=s.exports},a4fc:function(t,i,e){"use strict";e.r(i);var a=e("1759"),n=e.n(a);for(var l in a)["default"].indexOf(l)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(l);i["default"]=n.a},be05:function(t,i,e){"use strict";var a=e("1d81"),n=e.n(a);n.a},d968:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return l})),e.d(i,"a",(function(){return a}));var a={easyLoadimage:function(){return e.e("components/easy-loadimage/easy-loadimage").then(e.bind(null,"94dd"))}},n=function(){var t=this,i=t.$createElement,e=(t._self._c,t.videoList.length&&!t.dataConfig.isHide),a=e?t.__get_style([t.shortVideoWrapStyle]):null,n=e?t.__get_style([t.shortVideoStyle]):null,l=e?t.__get_style([t.navStyle]):null,o=e&&t.dataConfig.titleConfig.tabVal?t.__get_style([t.titleStyle]):null,s=e?t.__get_style([t.buttonStyle]):null,r=e?t.__get_style([t.buttonStyle]):null,g=e&&0==t.dataConfig.styleConfig.tabVal?t.__get_style([t.listStyle]):null,h=e&&0==t.dataConfig.styleConfig.tabVal?t.__map(t.videoList,(function(i,e){var a=t.__get_orig(i),n=t.__get_style([t.itemStyle]);return{$orig:a,s7:n}})):null,f=e&&0!=t.dataConfig.styleConfig.tabVal?t.leftList.length:null,c=e&&0!=t.dataConfig.styleConfig.tabVal&&f?t.__map(t.leftList,(function(i,e){var a=t.__get_orig(i),n=t.__get_style([t.wfItemStyle]),l=1==i.content_type?i.slider_image.length:null,o=[0,-1].includes(i.is_verify);return{$orig:a,s8:n,g2:l,g3:o}})):null,d=e&&0!=t.dataConfig.styleConfig.tabVal?t.rightList.length:null,u=e&&0!=t.dataConfig.styleConfig.tabVal&&d?t.__map(t.rightList,(function(i,e){var a=t.__get_orig(i),n=t.__get_style([t.wfItemStyle]),l=1==i.content_type?i.slider_image.length:null,o=[0,-1].includes(i.is_verify);return{$orig:a,s9:n,g5:l,g6:o}})):null;t.$mp.data=Object.assign({},{$root:{g0:e,s0:a,s1:n,s2:l,s3:o,s4:s,s5:r,s6:g,l0:h,g1:f,l1:c,g4:d,l2:u}})},l=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/index/components/community-create-component',
    {
        'pages/index/components/community-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('df3c')['createComponent'](__webpack_require__("4100"))
        })
    },
    [['pages/index/components/community-create-component']]
]);
