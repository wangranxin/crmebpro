(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{1210:function(e,t,n){},"576f":function(e,t,n){"use strict";n.r(t);var o=n("7fb3"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},"64dc":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.pageShow?e.__get_style([e.pageStyle]):null),o=e.pageShow&&!e.errorNetwork?e.sortList.children&&e.sortList.children.length:null,i=e.pageShow&&!e.errorNetwork?0==e.goodList.length&&e.loaded:null;e.$mp.data=Object.assign({},{$root:{s0:n,g0:o,g1:i}})},i=[]},"7fb3":function(e,t,n){"use strict";(function(e,o){var i=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("7ca3")),s=i(n("89cc")),c=(i(n("5741")),n("360a")),r=n("48a0"),u=n("769c"),l=n("8f59"),d=n("0f73"),h=n("95b5"),g=n("5088"),f=n("4d38");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=getApp(),v={computed:m({pageStyle:function(){return{backgroundColor:this.bgColor,backgroundImage:this.bgPic?"url(".concat(this.bgPic,")"):"",minHeight:this.windowHeight+"px"}}},(0,l.mapGetters)(["isLogin","uid","cartNum"])),mixins:[s.default],components:{recommend:function(){Promise.all([n.e("common/vendor"),n.e("components/recommend/index")]).then(function(){return resolve(n("a60c"))}.bind(null,n)).catch(n.oe)},Loading:function(){n.e("components/Loading/index").then(function(){return resolve(n("e83c"))}.bind(null,n)).catch(n.oe)},pageFooter:function(){Promise.all([n.e("common/vendor"),n.e("components/pageFooter/index")]).then(function(){return resolve(n("b795"))}.bind(null,n)).catch(n.oe)},couponWindow:function(){n.e("components/couponWindow/index").then(function(){return resolve(n("23d5"))}.bind(null,n)).catch(n.oe)},homeComb:function(){n.e("pages/index/components/homeComb").then(function(){return resolve(n("f50a"))}.bind(null,n)).catch(n.oe)},newVip:function(){n.e("pages/index/components/newVip").then(function(){return resolve(n("4082"))}.bind(null,n)).catch(n.oe)},userInfor:function(){n.e("pages/index/components/userInfor").then(function(){return resolve(n("c696"))}.bind(null,n)).catch(n.oe)},community:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/community")]).then(function(){return resolve(n("4100"))}.bind(null,n)).catch(n.oe)},headerSerch:function(){n.e("pages/index/components/headerSerch").then(function(){return resolve(n("5f25"))}.bind(null,n)).catch(n.oe)},swipers:function(){n.e("pages/index/components/swipers").then(function(){return resolve(n("bf89"))}.bind(null,n)).catch(n.oe)},coupon:function(){n.e("pages/index/components/coupon").then(function(){return resolve(n("fec6"))}.bind(null,n)).catch(n.oe)},articleList:function(){n.e("pages/index/components/articleList").then(function(){return resolve(n("f8a3"))}.bind(null,n)).catch(n.oe)},bargain:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/bargain")]).then(function(){return resolve(n("a1e7"))}.bind(null,n)).catch(n.oe)},blankPage:function(){n.e("pages/index/components/blankPage").then(function(){return resolve(n("38b6"))}.bind(null,n)).catch(n.oe)},combination:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/combination")]).then(function(){return resolve(n("f434"))}.bind(null,n)).catch(n.oe)},customerService:function(){n.e("pages/index/components/customerService").then(function(){return resolve(n("3143"))}.bind(null,n)).catch(n.oe)},goodList:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/goodList")]).then(function(){return resolve(n("e0ce"))}.bind(null,n)).catch(n.oe)},guide:function(){n.e("pages/index/components/guide").then(function(){return resolve(n("1af4"))}.bind(null,n)).catch(n.oe)},menus:function(){n.e("pages/index/components/menus").then(function(){return resolve(n("9ae3"))}.bind(null,n)).catch(n.oe)},pictureCube:function(){n.e("pages/index/components/pictureCube").then(function(){return resolve(n("7b99"))}.bind(null,n)).catch(n.oe)},news:function(){n.e("pages/index/components/news").then(function(){return resolve(n("4c7f"))}.bind(null,n)).catch(n.oe)},promotionList:function(){n.e("pages/index/components/promotionList").then(function(){return resolve(n("b90a"))}.bind(null,n)).catch(n.oe)},richText:function(){n.e("pages/index/components/richText").then(function(){return resolve(n("ef91"))}.bind(null,n)).catch(n.oe)},seckill:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/seckill")]).then(function(){return resolve(n("0dc3"))}.bind(null,n)).catch(n.oe)},swiperBg:function(){n.e("pages/index/components/swiperBg").then(function(){return resolve(n("7444"))}.bind(null,n)).catch(n.oe)},tabNav:function(){n.e("pages/index/components/tabNav").then(function(){return resolve(n("d220"))}.bind(null,n)).catch(n.oe)},titles:function(){n.e("pages/index/components/titles").then(function(){return resolve(n("118c"))}.bind(null,n)).catch(n.oe)},ranking:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/ranking")]).then(function(){return resolve(n("2269"))}.bind(null,n)).catch(n.oe)},presale:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/presale")]).then(function(){return resolve(n("84ea"))}.bind(null,n)).catch(n.oe)},pointsMall:function(){Promise.all([n.e("common/vendor"),n.e("pages/index/components/pointsMall")]).then(function(){return resolve(n("3a7a1"))}.bind(null,n)).catch(n.oe)},videos:function(){n.e("pages/index/components/videos").then(function(){return resolve(n("666a"))}.bind(null,n)).catch(n.oe)},signIn:function(){n.e("pages/index/components/signIn").then(function(){return resolve(n("4623"))}.bind(null,n)).catch(n.oe)},hotspot:function(){n.e("pages/index/components/hotspot").then(function(){return resolve(n("d26c"))}.bind(null,n)).catch(n.oe)},follow:function(){n.e("pages/index/components/follow").then(function(){return resolve(n("7bd5"))}.bind(null,n)).catch(n.oe)},waterfallsFlow:function(){n.e("components/WaterfallsFlow/WaterfallsFlow").then(function(){return resolve(n("33ab"))}.bind(null,n)).catch(n.oe)},emptyPage:function(){n.e("components/emptyPage").then(function(){return resolve(n("398a"))}.bind(null,n)).catch(n.oe)},addTip:function(){n.e("components/weixinTip/index").then(function(){return resolve(n("66df"))}.bind(null,n)).catch(n.oe)},liveBroadcast:function(){n.e("pages/index/components/liveBroadcast").then(function(){return resolve(n("6526"))}.bind(null,n)).catch(n.oe)}},data:function(){var e;return e={styleConfig:[],loading:!1,loadend:!1,loadTitle:"下拉加载更多",page:1,limit:this.$config.LIMIT,numConfig:0,code:"",isCouponShow:!1,couponObj:{},couponObjs:{show:!1},shareInfo:{},sortList:"",sortAll:[],goodPage:1,goodList:[],sid:0,curSort:0,sortMpTop:0,loaded:!1},(0,a.default)(e,"loading",!1),(0,a.default)(e,"domOffsetTop",50),(0,a.default)(e,"isFixed",!0),(0,a.default)(e,"site_config",""),(0,a.default)(e,"errorNetwork",!1),(0,a.default)(e,"isHeaderSerch",!1),(0,a.default)(e,"showHomeComb",!1),(0,a.default)(e,"showCateNav",!1),(0,a.default)(e,"homeCombData",{}),(0,a.default)(e,"headerSerchCombData",{}),(0,a.default)(e,"cateNavData",{}),(0,a.default)(e,"bgColor",""),(0,a.default)(e,"bgPic",""),(0,a.default)(e,"bgTabVal",""),(0,a.default)(e,"pageShow",!0),(0,a.default)(e,"windowHeight",0),(0,a.default)(e,"imgHost",f.HTTP_REQUEST_URL),(0,a.default)(e,"isShowAuth",!1),(0,a.default)(e,"isScrolled",!1),(0,a.default)(e,"product_video_status",!1),(0,a.default)(e,"confirm_video_status",!1),(0,a.default)(e,"isFooter",!1),e},onLoad:function(t){var n=this,o=this;o.getOptions(t),this.$nextTick((function(){e.getSystemInfo({success:function(e){o.windowHeight=e.windowHeight}})}));t.state,t.scope;this.diyData(),this.getTemlIds(),(0,r.getShare)().then((function(e){n.shareInfo=e.data})),this.getCopyRight(),this.$eventHub.$on("confirm_video_status",(function(){if(!n.confirm_video_status){n.confirm_video_status=!0;0,e.showModal({content:"当前使用移动网络，是否继续播放视频？",success:function(e){e.confirm&&(n.SET_AUTOPLAY(!0),n.$eventHub.$emit("product_video_observe"))}})}}))},watch:{isLogin:{deep:!0,handler:function(t,n){var o=(new Date).toLocaleDateString();if(t){try{var i=e.getStorageSync("oldDate")||""}catch(a){}i!=o&&this.getCoupon()}}}},onShow:function(){this.cartNum>0?e.setTabBarBadge({index:3,text:this.cartNum>99?"99+":this.cartNum+""}):e.hideTabBarRedDot({index:3}),e.removeStorageSync("form_type_cart"),this.isLogin&&this.getCoupon()},methods:m(m({},(0,l.mapMutations)(["SET_AUTOPLAY"])),{},{getCopyRight:function(){var t=this;(0,c.copyRight)().then((function(n){var o=n.data;e.setStorageSync("wechatStatus",o.wechat_status),t.site_config=o.record_No,o.copyrightContext||o.copyrightImage||(o.copyrightImage=f.HTTP_REQUEST_URL+"/statics/images/product/support.png"),e.setStorageSync("copyNameInfo",o.copyrightContext),e.setStorageSync("copyImageInfo",o.copyrightImage),e.setStorageSync("MPSiteData",JSON.stringify({site_logo:o.site_logo,site_name:o.site_name}))})).catch((function(e){return t.$util.Tips({title:e.msg})}))},getOptions:function(e){if(e.scene){var t=this.$util.getUrlParams(decodeURIComponent(e.scene));t.spid&&(b.globalData.spid=t.spid)}e.spid&&(b.globalData.spid=e.spid)},reconnect:function(){var e=this;this.diyData(),(0,r.getShare)().then((function(t){e.shareInfo=t.data}))},goICP:function(){e.navigateTo({url:"/pages/annex/web_view/index?url=https://beian.miit.gov.cn/"})},bindHeighta:function(e){},bindHeight:function(t){e.hideLoading(),this.domOffsetTop=t.top},changeSort:function(e,t){this.curSort!=t&&(this.curSort=t,this.sid=e.id,this.goodList=[],this.goodPage=1,this.loaded=!1,this.getGoodsList())},bindSortId:function(e){this.styleConfig=[],this.loaded=!1,1==e.type?this.getProductList(e.classPage):(this.sortList=[],this.getMicroPage(e.microPage,!0))},getMicroPage:function(t,n){var o=this,i=this;i.styleConfig=[],i.goodList=[],e.showLoading({title:"加载中..."}),(0,c.getDiy)(t).then((function(t){e.hideLoading();t.data;var n=i.objToArr(t.data.value);n=n.filter((function(e){return"1"!==e.isHide})),n.forEach((function(e,t){["headerSerch","homeComb"].includes(e.name)&&n.splice(t,1)})),o.styleConfig=n})).catch((function(e){return i.$util.Tips({title:e})}))},getProductList:function(e){var t=this;this.curSort=0,this.loaded=!1,this.sortAll.length>0?(this.sortAll.forEach((function(n,o){n.id==e&&(t.$set(t,"sortList",n),t.sid=n.children.length?n.children[0].id:"")})),this.goodList=[],this.goodPage=1,this.$nextTick((function(){""!=t.sortList&&t.getGoodsList()}))):(0,d.getCategoryList)().then((function(n){t.sortAll=n.data,n.data.forEach((function(n,o){n.id==e&&(t.sortList=n,t.sid=n.children.length?n.children[0].id:"")})),t.goodList=[],t.goodPage=1,t.$nextTick((function(){""!=t.sortList&&t.getGoodsList()}))}))},getGoodsList:function(){var e=this;this.loading||this.loaded||(this.loading=!0,(0,d.getProductslist)({sid:this.sid,keyword:"",priceOrder:"",salesOrder:"",news:0,page:this.goodPage,limit:10,cid:this.sortList.id}).then((function(t){e.loading=!1,e.loaded=t.data.length<10,e.goodPage++,e.goodList=e.goodList.concat(t.data)})))},getNewCoupon:function(){var t=this,n=e.getStorageSync("oldUser")||0;n||(0,c.getCouponNewUser)().then((function(n){var o=n.data;o.show?o.list.length&&(t.isCouponShow=!0,t.couponObj=o,e.setStorageSync("oldUser",1)):e.setStorageSync("oldUser",1)}))},getCoupon:function(){var t=this,n=e.getStorageSync("tagDate")||"",o=(new Date).toLocaleDateString();n===o?this.getNewCoupon():(0,c.getCouponV2)().then((function(n){var o=n.data;o.list.length?(t.isCouponShow=!0,t.couponObj=o,e.setStorageSync("tagDate",(new Date).toLocaleDateString())):t.getNewCoupon()}))},couponClose:function(){this.isCouponShow=!1,e.getStorageSync("oldUser")||this.getNewCoupon()},onLoadFun:function(){this.isShowAuth=!1},getTemlIds:function(){var e=o.getStorageSync(u.SUBSCRIBE_MESSAGE);e||(0,c.getTemlIds)().then((function(e){e.data&&o.setStorageSync(u.SUBSCRIBE_MESSAGE,JSON.stringify(e.data))}))},objToArr:function(e){var t=Object.keys(e).sort(),n=t.map((function(t){return e[t]}));return n},setDiyData:function(t){var n=this;this.errorNetwork=!1,t.is_bg_color&&(this.bgColor=t.color_picker),t.is_bg_pic&&(this.bgPic=t.bg_pic,this.bgTabVal=t.bg_tab_val),this.pageShow=t.is_show,e.setNavigationBarTitle({title:t.title});var o=[],i=this.objToArr(t.value);i.forEach((function(e,t,i){"homeComb"===e.name&&(n.showHomeComb=!0,n.homeCombData=e),"headerSerch"==e.name&&(n.isHeaderSerch=!0,n.headerSerchCombData=e),"tabNav"==e.name&&(n.showCateNav=!0,n.cateNavData=e),"1"!==e.isHide&&o.push(e)})),o.sort((function(e,t){return e.timestamp-t.timestamp})),this.styleConfig=o},getDiyData:function(){var t=this;(0,c.getDiy)(0).then((function(n){e.setStorageSync("diyData",JSON.stringify(n.data)),t.setDiyData(n.data)})).catch((function(e){}))},diyData:function(){var t=this,n=e.getStorageSync("diyData");n?(0,c.getDiyVersion)(0).then((function(o){var i=e.getStorageSync("diyVersion");o.data.version+"0"===i?t.setDiyData(JSON.parse(n)):(e.setStorageSync("diyVersion",o.data.version+"0"),t.getDiyData())})):this.getDiyData()},changeLogin:function(){this.getIsLogin()},getIsLogin:function(){(0,g.toLogin)()},changeBarg:function(t){this.isLogin?e.navigateTo({url:"/pages/activity/goods_bargain_details/index?id=".concat(t.id,"&spid=").concat(this.$store.state.app.uid)}):this.getIsLogin()},goDetail:function(t){(0,h.goShopDetail)(t,this.$store.state.app.uid).catch((function(n){e.navigateTo({url:"/pages/goods_details/index?id=".concat(t.id)})}))},newDataStatus:function(e){this.isFooter=!!e},checked:function(){}}),onReachBottom:function(){this.goodList.length&&this.getGoodsList()},onPullDownRefresh:function(){this.goodList=[],this.sortList=[],this.diyData(),setTimeout((function(){e.stopPullDownRefresh()}),1e3)},onPageScroll:function(t){t.scrollTop>10?this.isScrolled=!0:this.isScrolled=!1,e.$emit("scroll"),e.$emit("onPageScroll",t.scrollTop)},onShareAppMessage:function(){var e=this.uid?this.uid:0;return this.shareInfo.img?{title:this.shareInfo.title,path:"/pages/index/index?spid="+e,imageUrl:this.shareInfo.img,desc:this.shareInfo.synopsis}:{title:this.shareInfo.title,path:"/pages/index/index?spid="+e}},onShareTimeline:function(){return{title:this.shareInfo.title,path:"/pages/index/index",imageUrl:this.shareInfo.img,desc:this.shareInfo.synopsis}}};t.default=v}).call(this,n("df3c")["default"],n("3223")["default"])},"94a5":function(e,t,n){"use strict";(function(e,t){var o=n("47a9");n("f076");o(n("3240"));var i=o(n("977d"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"977d":function(e,t,n){"use strict";n.r(t);var o=n("64dc"),i=n("576f");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("b1dde");var s=n("828b"),c=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=c.exports},b1dde:function(e,t,n){"use strict";var o=n("1210"),i=n.n(o);i.a}},[["94a5","common/runtime","common/vendor"]]]);