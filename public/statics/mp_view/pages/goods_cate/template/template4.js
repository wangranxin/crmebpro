(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods_cate/template/template4"],{"32ac":function(t,e,i){"use strict";(function(t){var r=i("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i("7ca3")),a=i("0f73"),o=i("95b5"),s=(i("5088"),i("8f59")),c=r(i("018e"));function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}var u=t.getWindowInfo().statusBarHeight,d={props:{level:{type:Number,default:2},isFooter:{type:Boolean,default:!1}},data:function(){return{statusBarHeight:u,showFilterDrawer:!1,navActive:0,categoryList:[],categoryErList:[],threeCateList:[],tempArr:[],loading:!1,loadend:!1,loadTitle:"加载更多",page:1,limit:10,cid:0,sid:0,tid:0,id:0,storeName:"",tabClick:0,attr:{cartAttr:!1,productAttr:[],productSelect:{}},attrValue:"",productValue:[],is_vip:0,cart_num:0,storeInfo:{},selectSku:{},skuArr:[],scrollHeight:0}},mixins:[c.default],components:{baseDrawer:function(){i.e("components/tui-drawer/tui-drawer").then(function(){return resolve(i("af01"))}.bind(null,i)).catch(i.oe)},productWindow:function(){i.e("components/productWindow/index").then(function(){return resolve(i("bae9"))}.bind(null,i)).catch(i.oe)},emptyPage:function(){i.e("components/emptyPage").then(function(){return resolve(i("398a"))}.bind(null,i)).catch(i.oe)},cusPreviewImg:function(){i.e("components/cusPreviewImg/index").then(function(){return resolve(i("9bf0"))}.bind(null,i)).catch(i.oe)}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({fixedTop:function(){return t.getWindowInfo().statusBarHeight}},(0,s.mapGetters)(["isLogin","uid","cartNum"])),watch:{cartNum:function(){this.getCartList(1)}},mounted:function(){var t=this;this.getAllCategory(),setTimeout((function(){t.getScrollHeight()}),500)},methods:{getAttrs:function(t){var e=this,i=this;(0,a.getAttr)(t,0).then((function(t){for(var r in i.$set(i.attr,"productAttr",t.data.productAttr),i.$set(i,"productValue",t.data.productValue),i.$set(i,"is_vip",t.data.storeInfo.is_vip),i.$set(i,"storeInfo",t.data.storeInfo),i.skuArr=[],t.data.productValue){var n=t.data.productValue[r];i.skuArr.push(n)}i.skuArr.length||(i.skuArr=[{image:e.storeInfo.image,suk:e.storeInfo.store_name,price:e.storeInfo.price}]),e.$set(e,"selectSku",i.skuArr[0]),i.DefaultSelect()}))},showImg:function(t){this.$refs.cusPreviewImg.open(this.selectSku.suk)},changeSwitch:function(t){var e=this,i=this.skuArr[t];this.$set(this,"selectSku",i);var r=i.suk.split(",");r.forEach((function(t,i){e.$set(e.attr.productAttr[i],"index",r[i])})),i&&(this.$set(this.attr.productSelect,"image",i.image),this.$set(this.attr.productSelect,"price",i.price),this.$set(this.attr.productSelect,"stock",i.stock),this.$set(this.attr.productSelect,"unique",i.unique),this.$set(this.attr.productSelect,"cart_num",1),this.$set(this.attr.productSelect,"vip_price",i.vip_price),this.$set(this,"attrValue",i.suk),this.$set(this,"attrTxt","已选择"))},getAllCategory:function(){var t=this,e=this;(0,a.getCategoryList)().then((function(i){if(i.data.length){i.data.map((function(e){t.$set(e,"showMore",!1),e.children&&e.children.length&&e.children.map((function(e){t.$set(e,"showMore",!1)}))}));var r=i.data;e.categoryTitle=r[0].cate_name,e.cid=r[0].id,e.sid=0,e.tid=0,e.navActive=0,e.tabClick=0,e.categoryList=r,e.categoryErList=i.data[0].children?i.data[0].children:[],e.page=1,e.loadend=!1,e.tempArr=[],e.productslist()}}))},productslist:function(){var t=this;t.loadend||t.loading||(t.loading=!0,t.loadTitle="",(0,a.getProductslist)({page:t.page,limit:t.limit,type:1,cid:t.cid,sid:t.sid,tid:t.tid,is_big:1}).then((function(e){var i=e.data,r=i.length<t.limit;t.tempArr=t.$util.SplitArray(i,t.tempArr),t.$set(t,"tempArr",t.tempArr),t.loading=!1,t.loadend=r,t.loadTitle=r?"没有更多内容啦~":"加载更多",t.page=t.page+1})).catch((function(e){t.loading=!1,t.loadTitle="加载更多"})))},tapNav:function(t,e){var i=this.categoryList[t];this.navActive=t,this.categoryTitle=i.cate_name,this.categoryErList=e.children?e.children:[],this.threeCateList=e.children[0].children?e.children[0].children:[],this.tabClick=0,this.tabLeft=0,this.cid=i.id,this.sid=0,this.tid=0},threeCateClick:function(t){this.tid=t.id},twoCateClick:function(t){this.sid=t.id},openShowMore:function(t){t.showMore=!t.showMore},getList:function(){this.page=1,this.loadend=!1,this.tempArr=[],this.productslist(),this.showFilterDrawer=!1,this.isFooter?this.$emit("toggleBar",!0):t.showTabBar()},reset:function(){this.cid=this.categoryList[0].id,this.sid=0,this.tid=0,this.navActive=0,this.categoryErList=this.categoryList[0].children?this.categoryList[0].children:[]},goDetail:function(e){(0,o.goShopDetail)(e,this.uid).catch((function(i){t.navigateTo({url:"/pages/goods_details/index?id=".concat(e.id,"&fromType=1")})}))},goSearch:function(){t.navigateTo({url:"/pages/goods/goods_search/index"})},goCart:function(){t.switchTab({url:"/pages/order_addcart/order_addcart"})},openDrower:function(){this.showFilterDrawer=!0,this.isFooter?this.$emit("toggleBar",!1):t.hideTabBar()},closeDrawer:function(){this.showFilterDrawer=!1,this.isFooter?this.$emit("toggleBar",!0):t.showTabBar()},sliceArr:function(t){return t.slice(0,3)},getScrollHeight:function(){var e=t.getWindowInfo().statusBarHeight;this.scrollHeight=t.getWindowInfo().windowHeight-60-e}}};e.default=d}).call(this,i("df3c")["default"])},5189:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return r}));var r={easyLoadimage:function(){return i.e("components/easy-loadimage/easy-loadimage").then(i.bind(null,"94dd"))}},n=function(){var t=this,e=t.$createElement,i=(t._self._c,!t.tempArr.length&&!t.loading),r=3==t.level?t.__map(t.categoryErList,(function(e,i){var r=t.__get_orig(e),n=e.children&&e.children.length,a=n?e.children&&e.children.length>3:null,o=n?t.sliceArr(e.children):null;return{$orig:r,g1:n,g2:a,l0:o}})):null,n=3!=t.level?t.__map(t.categoryList,(function(e,i){var r=t.__get_orig(e),n=e.children&&e.children.length>3,a=e.children&&e.children.length,o=a?t.sliceArr(e.children):null;return{$orig:r,g3:n,g4:a,l2:o}})):null;t._isMounted||(t.e0=function(e,i){var r=arguments[arguments.length-1].currentTarget.dataset,n=r.eventParams||r["event-params"];i=n.cate;return t.threeCateClick(i)},t.e1=function(e,i){var r=arguments[arguments.length-1].currentTarget.dataset,n=r.eventParams||r["event-params"];i=n.cate;return t.twoCateClick(i)}),t.$mp.data=Object.assign({},{$root:{g0:i,l1:r,l3:n}})},a=[]},"61be":function(t,e,i){"use strict";i.r(e);var r=i("32ac"),n=i.n(r);for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);e["default"]=n.a},ad41:function(t,e,i){"use strict";i.r(e);var r=i("5189"),n=i("61be");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("e4ef");var o=i("828b"),s=Object(o["a"])(n["default"],r["b"],r["c"],!1,null,"b6f3f5c0",null,!1,r["a"],void 0);e["default"]=s.exports},d7d7:function(t,e,i){},e4ef:function(t,e,i){"use strict";var r=i("d7d7"),n=i.n(r);n.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/goods_cate/template/template4-create-component',
    {
        'pages/goods_cate/template/template4-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('df3c')['createComponent'](__webpack_require__("ad41"))
        })
    },
    [['pages/goods_cate/template/template4-create-component']]
]);
