require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/admin/goods/specs"],{"46da":function(t,i,e){"use strict";(function(t,i){var n=e("47a9");e("f076");n(e("3240"));var c=n(e("5029"));t.__webpack_require_UNI_MP_PLUGIN__=e,i(c.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])},"47a1":function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return c})),e.d(i,"a",(function(){}));var n=function(){var t=this.$createElement;this._self._c},c=[]},5029:function(t,i,e){"use strict";e.r(i);var n=e("47a1"),c=e("dd7e");for(var s in c)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return c[t]}))}(s);e("981e");var o=e("828b"),a=Object(o["a"])(c["default"],n["b"],n["c"],!1,null,"4ec3c744",null,!1,n["a"],void 0);i["default"]=a.exports},"8e4f":function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e("6af6"),c={components:{editPrice:function(){e.e("pages/admin/goods/components/editPrice/index").then(function(){return resolve(e("7b31"))}.bind(null,e)).catch(e.oe)}},data:function(){return{attrsList:[],id:0,administer:!1,isAllSelect:!1,visiblePrice:!1,goodsInfo:{id:0,spec_type:1,attr_value:{}}}},onShow:function(){},onLoad:function(t){this.id=t.id,this.getAttrsList()},methods:{getIds:function(){var t=[];return this.attrsList.forEach((function(i){i.checked&&t.push(i.id)})),t},batchEdit:function(){this.getIds().length?(this.goodsInfo.id=this.id,this.goodsInfo.attr_value={cost:"",price:"",ot_price:"",stock:""},this.visiblePrice=!0):this.$util.Tips({title:"请选择商品规格"})},define:function(){var i=this,e={attr_value:[]};this.attrsList.forEach((function(t){e.attr_value.push({cost:t.cost,price:t.price,ot_price:t.ot_price,stock:t.stock,unique:t.unique})})),(0,n.postUpdateAttrs)(this.id,e).then((function(e){i.$util.Tips({title:e.msg},(function(){t.navigateTo({url:"/pages/admin/goods/index"})}))})).catch((function(t){i.$util.Tips({title:t})}))},getAttrsList:function(){var t=this;(0,n.getGetAttrs)(this.id).then((function(i){var e=i.data;e.forEach((function(t){t.checked=!1})),t.attrsList=e})).catch((function(i){t.$util.Tips({title:i})}))},checkboxChange:function(t){var i=t.detail.value;this.attrsList.forEach((function(t){-1!==i.indexOf(t.id+"")?t.checked=!0:t.checked=!1})),i.length==this.attrsList.length?this.isAllSelect=!0:this.isAllSelect=!1},forGoods:function(t){this.attrsList.length&&this.attrsList.forEach((function(i){i.checked=!!t}))},checkboxAllChange:function(t){var i=t.detail.value;i.length?(this.isAllSelect=!0,this.forGoods(1)):(this.isAllSelect=!1,this.forGoods(0))},manageTap:function(){this.administer=!this.administer},priceCloseDrawer:function(){this.visiblePrice=!1},successChange:function(t){this.visiblePrice=!1;var i=t;this.attrsList.forEach((function(t){t.checked&&(i.cost&&(t.cost=i.cost),i.price&&(t.price=i.price),i.ot_price&&(t.ot_price=i.ot_price),i.stock&&(t.stock=i.stock))})),this.manageTap()}}};i.default=c}).call(this,e("df3c")["default"])},"97f0":function(t,i,e){},"981e":function(t,i,e){"use strict";var n=e("97f0"),c=e.n(n);c.a},dd7e:function(t,i,e){"use strict";e.r(i);var n=e("8e4f"),c=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(s);i["default"]=c.a}},[["46da","common/runtime","common/vendor"]]]);