(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/annex/special/index"],{"0733":function(n,e,t){},"1c7d":function(n,e,t){"use strict";(function(n,o){var i=t("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=i(t("7ca3")),r=i(t("89cc")),s=t("360a"),a=t("48a0"),u=t("769c"),l=t("8f59"),d=t("0f73"),h=t("95b5"),g=t("5088"),f=t("4d38");function p(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}getApp();var m={computed:function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?p(Object(t),!0).forEach((function(e){(0,c.default)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({pageStyle:function(){return{backgroundColor:this.bgColor,backgroundImage:this.bgPic?"url(".concat(this.bgPic,")"):"",minHeight:this.windowHeight+"px"}}},(0,l.mapGetters)(["isLogin","uid"])),mixins:[r.default],components:{recommend:function(){Promise.all([t.e("common/vendor"),t.e("components/recommend/index")]).then(function(){return resolve(t("a60c"))}.bind(null,t)).catch(t.oe)},Loading:function(){t.e("components/Loading/index").then(function(){return resolve(t("e83c"))}.bind(null,t)).catch(t.oe)},pageFooter:function(){Promise.all([t.e("common/vendor"),t.e("components/pageFooter/index")]).then(function(){return resolve(t("b795"))}.bind(null,t)).catch(t.oe)},couponWindow:function(){t.e("components/couponWindow/index").then(function(){return resolve(t("23d5"))}.bind(null,t)).catch(t.oe)},homeComb:function(){t.e("pages/index/components/homeComb").then(function(){return resolve(t("f50a"))}.bind(null,t)).catch(t.oe)},newVip:function(){t.e("pages/index/components/newVip").then(function(){return resolve(t("4082"))}.bind(null,t)).catch(t.oe)},userInfor:function(){t.e("pages/index/components/userInfor").then(function(){return resolve(t("c696"))}.bind(null,t)).catch(t.oe)},headerSerch:function(){t.e("pages/index/components/headerSerch").then(function(){return resolve(t("5f25"))}.bind(null,t)).catch(t.oe)},swipers:function(){t.e("pages/index/components/swipers").then(function(){return resolve(t("bf89"))}.bind(null,t)).catch(t.oe)},coupon:function(){t.e("pages/index/components/coupon").then(function(){return resolve(t("fec6"))}.bind(null,t)).catch(t.oe)},articleList:function(){t.e("pages/index/components/articleList").then(function(){return resolve(t("f8a3"))}.bind(null,t)).catch(t.oe)},bargain:function(){Promise.all([t.e("common/vendor"),t.e("pages/index/components/bargain")]).then(function(){return resolve(t("a1e7"))}.bind(null,t)).catch(t.oe)},blankPage:function(){t.e("pages/index/components/blankPage").then(function(){return resolve(t("38b6"))}.bind(null,t)).catch(t.oe)},combination:function(){Promise.all([t.e("common/vendor"),t.e("pages/index/components/combination")]).then(function(){return resolve(t("f434"))}.bind(null,t)).catch(t.oe)},customerService:function(){t.e("pages/index/components/customerService").then(function(){return resolve(t("3143"))}.bind(null,t)).catch(t.oe)},goodList:function(){Promise.all([t.e("common/vendor"),t.e("pages/index/components/goodList")]).then(function(){return resolve(t("e0ce"))}.bind(null,t)).catch(t.oe)},guide:function(){t.e("pages/index/components/guide").then(function(){return resolve(t("1af4"))}.bind(null,t)).catch(t.oe)},liveBroadcast:function(){t.e("pages/index/components/liveBroadcast").then(function(){return resolve(t("6526"))}.bind(null,t)).catch(t.oe)},menus:function(){t.e("pages/index/components/menus").then(function(){return resolve(t("9ae3"))}.bind(null,t)).catch(t.oe)},pictureCube:function(){t.e("pages/index/components/pictureCube").then(function(){return resolve(t("7b99"))}.bind(null,t)).catch(t.oe)},news:function(){t.e("pages/index/components/news").then(function(){return resolve(t("4c7f"))}.bind(null,t)).catch(t.oe)},promotionList:function(){t.e("pages/index/components/promotionList").then(function(){return resolve(t("b90a"))}.bind(null,t)).catch(t.oe)},richText:function(){t.e("pages/index/components/richText").then(function(){return resolve(t("ef91"))}.bind(null,t)).catch(t.oe)},seckill:function(){Promise.all([t.e("common/vendor"),t.e("pages/index/components/seckill")]).then(function(){return resolve(t("0dc3"))}.bind(null,t)).catch(t.oe)},swiperBg:function(){t.e("pages/index/components/swiperBg").then(function(){return resolve(t("7444"))}.bind(null,t)).catch(t.oe)},tabNav:function(){t.e("pages/index/components/tabNav").then(function(){return resolve(t("d220"))}.bind(null,t)).catch(t.oe)},titles:function(){t.e("pages/index/components/titles").then(function(){return resolve(t("118c"))}.bind(null,t)).catch(t.oe)},ranking:function(){Promise.all([t.e("common/vendor"),t.e("pages/index/components/ranking")]).then(function(){return resolve(t("2269"))}.bind(null,t)).catch(t.oe)},presale:function(){Promise.all([t.e("common/vendor"),t.e("pages/index/components/presale")]).then(function(){return resolve(t("84ea"))}.bind(null,t)).catch(t.oe)},pointsMall:function(){Promise.all([t.e("common/vendor"),t.e("pages/index/components/pointsMall")]).then(function(){return resolve(t("3a7a1"))}.bind(null,t)).catch(t.oe)},videos:function(){t.e("pages/index/components/videos").then(function(){return resolve(t("666a"))}.bind(null,t)).catch(t.oe)},signIn:function(){t.e("pages/index/components/signIn").then(function(){return resolve(t("4623"))}.bind(null,t)).catch(t.oe)},hotspot:function(){t.e("pages/index/components/hotspot").then(function(){return resolve(t("d26c"))}.bind(null,t)).catch(t.oe)},follow:function(){t.e("pages/index/components/follow").then(function(){return resolve(t("7bd5"))}.bind(null,t)).catch(t.oe)},waterfallsFlow:function(){t.e("components/WaterfallsFlow/WaterfallsFlow").then(function(){return resolve(t("33ab"))}.bind(null,t)).catch(t.oe)},community:function(){Promise.all([t.e("common/vendor"),t.e("pages/index/components/community")]).then(function(){return resolve(t("4100"))}.bind(null,t)).catch(t.oe)}},data:function(){return{styleConfig:[],loading:!1,loadend:!1,loadTitle:"加载更多",page:1,limit:this.$config.LIMIT,numConfig:0,code:"",isCouponShow:!1,couponObj:{},couponObjs:{},shareInfo:{},footConfig:{},pageId:"",sortMpTop:0,bgColor:"",bgPic:"",bgTabVal:"",pageShow:!0,windowHeight:0,isShowAuth:!1,isScrolled:!1,sortList:"",sortAll:[],isSortType:0,hostProduct:[],hotScroll:!1,hotPage:1,hotLimit:10,curSort:0,loaded:!1,goodPage:1,goodList:[],sid:0,imgHost:f.HTTP_REQUEST_URL,product_video_status:!1,tabBarData:{}}},onLoad:function(e){var t=this,o=this;this.$nextTick((function(){n.getSystemInfo({success:function(n){o.windowHeight=n.windowHeight}})}));e.state,e.scope;if(this.pageId=e.id,e.scene){var i=o.$util.getUrlParams(decodeURIComponent(e.scene));this.pageId=i.id}n.setNavigationBarTitle({title:"专题栏"}),this.getDiyData(),this.getTemlIds(),(0,a.getShare)().then((function(n){t.shareInfo=n.data}))},onUnload:function(){n.$off("activeFn")},watch:{isLogin:{deep:!0,handler:function(e,t){var o=(new Date).toLocaleDateString();if(e){try{var i=n.getStorageSync("oldDate")||""}catch(c){}i!=o&&this.getCoupon()}}}},onShow:function(){n.removeStorageSync("form_type_cart");var e=(new Date).toLocaleDateString();if(this.isLogin){try{var t=n.getStorageSync("oldDate")||""}catch(i){}t!=e&&this.getCoupon();var o=n.getStorageSync("oldUser")||0;o||this.getCouponOnce()}},mounted:function(){},methods:{changeSort:function(n,e){this.curSort!=e&&(this.curSort=e,this.sid=n.id,this.goodList=[],this.goodPage=1,this.loaded=!1,this.getGoodsList())},bindSortId:function(n){this.styleConfig=[],1==n.type?this.getProductList(n.classPage):(this.sortList=[],this.getMicroPage(n.microPage,!0))},getMicroPage:function(e,t){var o=this;o.styleConfig=[],n.showLoading({title:"加载中..."}),(0,s.getDiy)(e).then((function(e){n.hideLoading();e.data;o.styleConfig=o.objToArr(e.data.value),o.styleConfig.forEach((function(n,e){["headerSerch","homeComb"].includes(n.name)&&o.styleConfig.splice(e,1)}))})).catch((function(n){return o.$util.Tips({title:n})}))},getProductList:function(n){var e=this;this.curSort=0,this.loaded=!1,this.sortAll.length>0?(this.sortAll.forEach((function(t,o){t.id==n&&(e.$set(e,"sortList",t),e.sid=t.children.length?t.children[0].id:"")})),this.goodList=[],this.goodPage=1,this.$nextTick((function(){""!=e.sortList&&e.getGoodsList()}))):(0,d.getCategoryList)().then((function(t){e.sortAll=t.data,t.data.forEach((function(t,o){t.id==n&&(e.sortList=t,e.sid=t.children.length?t.children[0].id:"")})),e.goodList=[],e.goodPage=1,e.$nextTick((function(){""!=e.sortList&&e.getGoodsList()}))}))},getGoodsList:function(){var n=this;this.loading||this.loaded||(this.loading=!0,(0,d.getProductslist)({sid:this.sid,keyword:"",priceOrder:"",salesOrder:"",news:0,page:this.goodPage,limit:10,cid:this.sortList.id}).then((function(e){n.loading=!1,n.loaded=e.data.length<10,n.goodPage++,n.goodList=n.goodList.concat(e.data)})))},get_host_product:function(){var n=this;n.hotScroll||(0,d.getProductHot)(n.hotPage,n.hotLimit).then((function(e){n.hotPage++,n.hotScroll=e.data.length<n.hotLimit,n.hostProduct=n.hostProduct.concat(e.data)}))},getCouponOnce:function(){var n=this;(0,s.getCouponNewUser)().then((function(e){n.couponObjs=e.data}))},couponCloses:function(){this.couponObjs.show=!1;try{n.setStorageSync("oldUser",1)}catch(e){}},getCoupon:function(){var n=this;(0,s.getCouponV2)().then((function(e){n.couponObj=e.data,e.data.list.length>0&&(n.isCouponShow=!0)}))},couponClose:function(){this.isCouponShow=!1;try{n.setStorageSync("oldDate",(new Date).toLocaleDateString())}catch(e){}},getTemlIds:function(){var n=o.getStorageSync(u.SUBSCRIBE_MESSAGE);n||(0,s.getTemlIds)().then((function(n){n.data&&o.setStorageSync(u.SUBSCRIBE_MESSAGE,JSON.stringify(n.data))}))},objToArr:function(n){var e=Object.keys(n);e.sort((function(n,e){return n-e}));var t=e.map((function(e){return n[e]}));return t},getDiyData:function(){var e=this;(0,s.getDiy)(this.pageId).then((function(t){var o=t.data;o.is_bg_color&&(e.bgColor=o.color_picker),o.is_bg_pic&&(e.bgPic=o.bg_pic,e.bgTabVal=o.bg_tab_val),e.pageShow=o.is_show,n.setNavigationBarTitle({title:o.title});var i=[],c=e.objToArr(o.value);c.forEach((function(n,t,o){"1"!==n.isHide&&i.push(n),"pageFoot"==n.name&&(e.tabBarData=n)})),e.styleConfig=i}))},changeBarg:function(e){this.isLogin?n.navigateTo({url:"/pages/activity/goods_bargain_details/index?id=".concat(e.id,"&spid=").concat(this.uid)}):(0,g.toLogin)()},goDetail:function(e){(0,h.goShopDetail)(e,this.uid).then((function(t){n.navigateTo({url:"/pages/goods_details/index?id=".concat(e.id)})}))}},onReachBottom:function(){},onPageScroll:function(e){e.scrollTop>10?this.isScrolled=!0:this.isScrolled=!1,n.$emit("scroll")},onShareAppMessage:function(){return{title:this.shareInfo.title,path:"/pages/index/index",imageUrl:this.storeInfo.img}}};e.default=m}).call(this,t("df3c")["default"],t("3223")["default"])},"1f8b":function(n,e,t){"use strict";t.r(e);var o=t("1c7d"),i=t.n(o);for(var c in o)["default"].indexOf(c)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(c);e["default"]=i.a},"874c":function(n,e,t){"use strict";var o=t("0733"),i=t.n(o);i.a},c83d:function(n,e,t){"use strict";t.r(e);var o=t("e625"),i=t("1f8b");for(var c in i)["default"].indexOf(c)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(c);t("874c");var r=t("828b"),s=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=s.exports},d0e4:function(n,e,t){"use strict";(function(n,e){var o=t("47a9");t("f076");o(t("3240"));var i=o(t("c83d"));n.__webpack_require_UNI_MP_PLUGIN__=t,e(i.default)}).call(this,t("3223")["default"],t("df3c")["createPage"])},e625:function(n,e,t){"use strict";t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){}));var o=function(){var n=this.$createElement,e=(this._self._c,this.pageShow?this.__get_style([this.pageStyle]):null),t=this.pageShow?0==this.goodList.length&&this.loaded:null;this.$mp.data=Object.assign({},{$root:{s0:e,g0:t}})},i=[]}},[["d0e4","common/runtime","common/vendor"]]]);