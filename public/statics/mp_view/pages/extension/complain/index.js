require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/extension/complain/index"],{5421:function(e,t,a){"use strict";a.r(t);var n=a("5bd4"),i=a("ec0a");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("e621");var u=a("828b"),o=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=o.exports},"5bd4":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return n}));var n={uniDatetimePicker:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker")]).then(a.bind(null,"df90"))}},i=function(){var e=this,t=e.$createElement,a=(e._self._c,e.confirm.length),n=a?e.__map(e.confirm,(function(t,a){var n=e.__get_orig(t),i="dateranges"==t.name?t.value.length:null,l="uploadPicture"==t.name?t.value.length:null,u="uploadPicture"==t.name&&l<3?t.value.length:null,o="uploadPicture"!=t.name||l<3?null:t.value.length;return{$orig:n,g1:i,g2:l,g3:u,g4:o}})):null;e._isMounted||(e.e0=function(t,a,n){var i=[],l=arguments.length-3;while(l-- >0)i[l]=arguments[l+3];var u=i[i.length-1].currentTarget.dataset,o=u.eventParams||u["event-params"];a=o.index,n=o.item;return e.radioChange(t,a,n)}),e.$mp.data=Object.assign({},{$root:{g0:a,l0:n}})},l=[]},"725a":function(e,t,a){"use strict";var n=a("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("89cc")),l=a("2c18"),u=n(a("f89f")),o={},r={},s={data:function(){return{confirm:[],timeranges:[],isShow:!1,display:!1,addressInfoArea:[],cityShow:2,timerangesIndex:0,newImg:[]}},mixins:[i.default],components:{timeranges:function(){a.e("components/timeranges/index").then(function(){return resolve(a("2a68"))}.bind(null,a)).catch(a.oe)},areaWindow:function(){Promise.all([a.e("common/vendor"),a.e("components/areaWindow/index")]).then(function(){return resolve(a("e636"))}.bind(null,a)).catch(a.oe)}},onLoad:function(){this.getForm()},methods:{confrim:function(e){this.isShow=!1,this.confirm[this.timerangesIndex].value=e.time;var t=[];e.val.forEach((function(e){t.push(Number(e))})),this.timeranges=t},cancels:function(){this.isShow=!1},OnAreaAddress:function(e){var t="";t=4==e.length?e[0].label+"/"+e[1].label+"/"+e[2].label+"/"+e[3].label:3==e.length?e[0].label+"/"+e[1].label+"/"+e[2].label:2==e.length?e[0].label+"/"+e[1].label:e[0].label,this.confirm[this.timerangesIndex].value=t,o[this.timerangesIndex]=e},changeRegion:function(e){this.confirm[e].value||(this.addressInfoArea=[]),this.timerangesIndex=e,this.cityShow=Number(this.confirm[e].valConfig.tabVal)+1,this.display=!0,o[e]&&(this.addressInfoArea=o[e])},radioChange:function(e,t,a){this.confirm[t].value=a.wordsConfig.list[e.detail.value].val},checkboxChange:function(e,t,a){var n=e.detail.value,i="";a.wordsConfig.list.forEach((function(e,t){n.forEach((function(a){t==a&&(i=i+(i?",":"")+e.val)}))})),this.confirm[t].value=i},changeAddressClose:function(){this.display=!1},DelPic:function(e,t){this.confirm[e].value;this.confirm[e].value.splice(t,1),this.$set(this.confirm[e],"value",this.confirm[e].value)},uploadpic:function(e){var t=this;this.$util.uploadImageOne("upload/image",(function(a){t.newImg.push(a.data.url),t.$set(t.confirm[e],"value",t.newImg)}))},objToArr:function(e){var t=Object.keys(e),a=t.map((function(t){return e[t]}));return a},getForm:function(){var e=this.objToArr(r.value);e.forEach((function(e,t,a){if(o[t]="","texts"==e.name)e.defaultValConfig.value?e.value=e.defaultValConfig.value:e.value="";else if("radios"==e.name)e.value=e.wordsConfig.list[0].val;else if("uploadPicture"==e.name)e.value=[];else if("dateranges"==e.name)if(0==e.valConfig.tabVal)if(0==e.valConfig.tabData){var n=(0,u.default)(new Date(Number((new Date).getTime()))).format("YYYY-MM-DD");e.value=[n,n]}else{var i=(0,u.default)(new Date(Number(new Date(e.valConfig.specifyDate[0]).getTime()))).format("YYYY-MM-DD"),l=(0,u.default)(new Date(Number(new Date(e.valConfig.specifyDate[1]).getTime()))).format("YYYY-MM-DD");e.value=[i,l]}else e.value=[];else if(-1!=["times","dates","timeranges"].indexOf(e.name))if(0==e.valConfig.tabVal)if(0==e.valConfig.tabData)if("times"==e.name)e.value=(0,u.default)(new Date(Number((new Date).getTime()))).format("HH:mm");else if("dates"==e.name)e.value=(0,u.default)(new Date(Number((new Date).getTime()))).format("YYYY-MM-DD");else{var r=(0,u.default)(new Date(Number((new Date).getTime()))).format("HH:mm");e.value=r+" - "+r}else"times"==e.name||"dates"==e.name?e.value=e.valConfig.specifyDate:e.value=e.valConfig.specifyDate[0]+" - "+e.valConfig.specifyDate[1];else e.value="";else e.value=""})),this.$set(this,"confirm",e)},confirmForm:(0,l.Debounce)((function(){for(var e=this,t=0;t<this.confirm.length;t++){var a=this.confirm[t];if(-1==["radios"].indexOf(a.name)&&(a.titleShow.val||-1==["uploadPicture","dateranges"].indexOf(a.name)&&a.value&&a.value.trim())){if(("texts"===a.name&&0==a.valConfig.tabVal||-1!=["dates","times","selects","citys","checkboxs"].indexOf(a.name))&&(!a.value||a.value&&!a.value.trim()))return this.$util.Tips({title:"请填写".concat(a.titleConfig.value)});if("timeranges"===a.name&&!a.value)return this.$util.Tips({title:"请选择".concat(a.titleConfig.value)});if("dateranges"===a.name&&!a.value.length)return this.$util.Tips({title:"请选择".concat(a.titleConfig.value)});if("texts"===a.name&&4==a.valConfig.tabVal&&a.value<=0)return this.$util.Tips({title:"请填写大于0的".concat(a.titleConfig.value)});if("texts"===a.name&&3==a.valConfig.tabVal&&!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(a.value))return this.$util.Tips({title:"请填写正确的".concat(a.titleConfig.value)});if("texts"===a.name&&1==a.valConfig.tabVal&&!/^1(3|4|5|7|8|9|6)\d{9}$/i.test(a.value))return this.$util.Tips({title:"请填写正确的".concat(a.titleConfig.value)});if("texts"===a.name&&2==a.valConfig.tabVal&&!/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/i.test(a.value))return this.$util.Tips({title:"请填写正确的".concat(a.titleConfig.value)});if("uploadPicture"===a.name&&!a.value.length)return this.$util.Tips({title:"请上传".concat(a.titleConfig.value)})}}var n={system_form_id:1,value:this.confirm};complainConfirmApi(n).then((function(t){e.$util.Tips({title:t.msg},{tab:3})})).catch((function(t){e.$util.Tips({title:t})}))}))}};t.default=s},bc4c:function(e,t,a){},df1c:function(e,t,a){"use strict";(function(e,t){var n=a("47a9");a("f076");n(a("3240"));var i=n(a("5421"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(i.default)}).call(this,a("3223")["default"],a("df3c")["createPage"])},e621:function(e,t,a){"use strict";var n=a("bc4c"),i=a.n(n);i.a},ec0a:function(e,t,a){"use strict";a.r(t);var n=a("725a"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t["default"]=i.a}},[["df1c","common/runtime","common/vendor"]]]);