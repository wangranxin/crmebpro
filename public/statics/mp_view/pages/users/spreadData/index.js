require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/spreadData/index"],{4945:function(e,t,a){},"56e9":function(e,t,a){"use strict";a.r(t);var i=a("79c4"),n=a("e5dc");for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);a("cd3e");var s=a("828b"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"10872128",null,!1,i["a"],void 0);t["default"]=o.exports},"67af":function(e,t,a){"use strict";(function(e){var i=a("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("7ca3")),r=i(a("89cc")),s=a("92f9"),o=a("5088"),c=a("8f59"),u=a("4d38");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g=e.getWindowInfo().statusBarHeight,p={data:function(){return{imgHost:u.HTTP_REQUEST_URL,sysHeight:g,isScrolling:!1,userInfo:{avatar:"",nickname:"",uid:0},viewActive:0,statistics:[],teamStatistics:[{label:"团队人数",num:0,type:1},{label:"推广人数",num:0,type:1},{label:"推广订单数",num:0,type:1},{label:"返佣金额",num:"0.00",type:2}],levelInfo:{},levelList:[],teamList:[],teamParams:{page:1,limit:10,grade:0},rankTab:0,rankList:[],brokerageLevel:1,promoterType:0,orderActive:0,orderData:{},contributeType:"order_count",contributeData:[],withdraw:"",isCode:!1,code:"",codeImg:""}},mixins:[r.default],components:{home:function(){Promise.all([a.e("common/vendor"),a.e("components/home/index")]).then(function(){return resolve(a("0708"))}.bind(null,a)).catch(a.oe)},NavBar:function(){a.e("components/NavBar").then(function(){return resolve(a("a7d8"))}.bind(null,a)).catch(a.oe)},emptyPage:function(){a.e("components/emptyPage").then(function(){return resolve(a("398a"))}.bind(null,a)).catch(a.oe)},BaseCode:function(){a.e("components/BaseCode").then(function(){return resolve(a("a19a"))}.bind(null,a)).catch(a.oe)}},computed:l(l({},(0,c.mapGetters)(["isLogin"])),{},{vipCardStyle:function(){return{backgroundImage:"url("+this.imgHost+"/statics/images/promoter/spread_data_bg.png)"}},cardBgStyle:function(){return{backgroundImage:"url("+this.imgHost+"/statics/images/promoter/spread_black_card.png)"}}}),onPageScroll:function(t){e.$emit("scroll"),t.scrollTop>50?this.isScrolling=!0:t.scrollTop<50&&(this.isScrolling=!1)},onLoad:function(){this.isLogin?(this.getUserData(),this.getTeamList(),this.getRankList(0),this.getOrderIncome(0,0),this.getOverviewData(0,0),this.getContribute()):(0,o.toLogin)()},methods:{getUserData:function(){var e=this;(0,s.agentLevelList)().then((function(t){e.userInfo=t.data.user,e.promoterType=t.data.user.division_type,e.levelInfo=t.data.level_info,e.levelList=t.data.level_list})).catch((function(t){e.$util.Tips({title:t})}))},toggleTeam:function(e){this.teamParams.grade=e,this.teamList=[],this.getTeamList()},getTeamList:function(){var e=this;(0,s.spreadPeople)(this.teamParams).then((function(t){e.brokerageLevel=t.data.brokerage_level,e.teamList=t.data.list,e.teamStatistics[0].num=t.data.count,e.teamStatistics[1].num=e.teamParams.grade?t.data.totalLevel:t.data.total,e.teamStatistics[2].num=t.data.order_count,e.teamStatistics[3].num=t.data.price.toString()})).catch((function(t){e.$util.Tips({title:t})}))},getRankList:function(e){var t=this,a=1==e?s.getRankList:s.getBrokerageRank;a({page:1,limit:3,type:"week"}).then((function(a){t.rankList=e?a.data.list:a.data.rank})).catch((function(e){t.$util.Tips({title:e})}))},toggleRank:function(e){this.rankTab=e,this.getRankList(e)},getOrderIncome:function(e,t){var a=this;(0,s.spreadOrderIncomeApi)({page:1,limit:10,start:e,stop:t}).then((function(e){a.orderData=e.data})).catch((function(e){a.$util.Tips({title:e})}))},setTime:function(e,t){this.time=e;var a="",i="",n=(new Date).getFullYear(),r=(new Date).getMonth()+1,s=(new Date).getDate();switch(e){case"all":1==t?(this.orderActive=0,this.getOrderIncome(0,0)):(this.viewActive=0,this.getOverviewData(0,0));break;case"today":a=new Date(Date.parse(n+"/"+r+"/"+s)).getTime()/1e3,i=new Date(Date.parse(n+"/"+r+"/"+s)).getTime()/1e3+86400-1,1==t?(this.orderActive=1,this.getOrderIncome(a,i)):(this.viewActive=1,this.getOverviewData(a,i));break;case"yesterday":a=new Date(Date.parse(n+"/"+r+"/"+s)).getTime()/1e3-86400,i=new Date(Date.parse(n+"/"+r+"/"+s)).getTime()/1e3-1,1==t?(this.orderActive=2,this.getOrderIncome(a,i)):(this.viewActive=2,this.getOverviewData(a,i));break;case"seven":a=new Date(Date.parse(n+"/"+r+"/"+s)).getTime()/1e3+86400-604800,i=new Date(Date.parse(n+"/"+r+"/"+s)).getTime()/1e3+86400-1,1==t?(this.orderActive=3,this.getOrderIncome(a,i)):(this.viewActive=3,this.getOverviewData(a,i));break}},getOverviewData:function(e,t){var a=this;(0,s.spreadOverviewApi)({page:1,limit:10,start:e,stop:t}).then((function(e){a.withdraw=e.data[2].value,a.statistics=e.data.map((function(e){return l(l({},e),{},{type:"number"===typeof e.value?1:2})}))})).catch((function(e){a.$util.Tips({title:e})}))},getContribute:function(){var e=this,t={page:1,limit:5,type:this.contributeType};(0,s.spreadContributeApi)(this.contributeType,t).then((function(t){e.contributeData=t.data})).catch((function(t){e.$util.Tips({title:t})}))},toggleContribute:function(e){this.contributeType=e,this.getContribute()},jumbPath:function(t){var a=this;"code"==t&&(0,s.getAgentCode)().then((function(e){a.codeImg=e.data.url,a.isCode=!0}));var i=["/pages/users/user_cash/index","/pages/users/promoter_rank/index","/pages/users/commission_rank/index","/pages/users/user_spread_code/index","/pages/users/user_vip/index","/pages/users/user_spread_code/index","/pages/users/user_spread_money/index?type=1","/pages/users/user_spread_money/index?type=4","/pages/users/promoter-order/index","/pages/users/promoter-list/index".concat(1==this.userInfo.division_type?"?type=1":""),"/pages/users/user_distribution_level/index","/pages/users/user_distribution_info/index","/pages/users/agent/staff_list","/pages/users/spreadData/contributionRank"];e.navigateTo({url:i[t]})},createCode:function(){var e=this;(0,s.getAgentCode)().then((function(t){e.codeImg=t.data.url,e.isCode=!0}))}}};t.default=p}).call(this,a("df3c")["default"])},"79c4":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=(e._self._c,e.__get_style([e.vipCardStyle])),i=e.contributeData.length,n=e.contributeData.length,r=e.teamList.length,s=e.teamList.length,o=e.rankList.length;e.$mp.data=Object.assign({},{$root:{s0:a,g0:i,g1:n,g2:r,g3:s,g4:o}})},n=[]},cd3e:function(e,t,a){"use strict";var i=a("4945"),n=a.n(i);n.a},e01d:function(e,t,a){"use strict";(function(e,t){var i=a("47a9");a("f076");i(a("3240"));var n=i(a("56e9"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(n.default)}).call(this,a("3223")["default"],a("df3c")["createPage"])},e5dc:function(e,t,a){"use strict";a.r(t);var i=a("67af"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=n.a}},[["e01d","common/runtime","common/vendor"]]]);