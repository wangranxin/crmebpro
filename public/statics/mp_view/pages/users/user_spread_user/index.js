require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/user_spread_user/index"],{"10fa":function(e,t,n){"use strict";(function(e){var i=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("7ca3")),a=n("92f9"),o=n("7391"),r=n("5088"),u=n("8f59"),c=i(n("89cc")),p=n("4d38");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={components:{task:function(){n.e("pages/users/user_spread_user/components/task").then(function(){return resolve(n("84c3"))}.bind(null,n)).catch(n.oe)},BaseMoney:function(){n.e("components/BaseMoney").then(function(){return resolve(n("7202"))}.bind(null,n)).catch(n.oe)},NavBar:function(){n.e("components/NavBar").then(function(){return resolve(n("a7d8"))}.bind(null,n)).catch(n.oe)},BaseCode:function(){n.e("components/BaseCode").then(function(){return resolve(n("a19a"))}.bind(null,n)).catch(n.oe)}},mixins:[c.default],data:function(){return{getHeight:this.$util.getWXStatusHeight(),iconColor:"#000000",isScrolling:!1,imgHost:p.HTTP_REQUEST_URL,userInfo:{},taskShow:!1,yesterdayPrice:0,isAuto:!1,isShowAuth:!1,distributionLevel:[],levelList:[],task:[],levelInfo:{},config:{bar:{code:"",color:["#000"],bgColor:"#FFFFFF",width:480,height:110},qrc:{code:"123123",size:380,level:3,bgColor:"#FFFFFF",border:{color:["#eee","#eee"],lineWidth:3},color:["#333","#333"]}},speadMenuList:[{img:"spread_dd.png",name:"分销订单",jump_type:8},{img:"spread_td.png",name:"我的团队",jump_type:9},{img:"spread_ph.png",name:"佣金排行",jump_type:2},{img:"spread_yj.png",name:"佣金记录",jump_type:6},{img:"spread_tgr.png",name:"推广人排行",jump_type:1},{img:"spread_yq.png",name:"邀请好友",jump_type:5},{img:"spread_dj.png",name:"分销等级",jump_type:10},{img:"spread_sm.png",name:"分销说明",jump_type:11}],agentMenuList:[{img:"agent_yqyg.png",name:"邀请员工",jump_type:"code"},{img:"spread_tgr.png",name:"推广人排行",jump_type:1},{img:"agent_yjmx.png",name:"佣金明细",jump_type:6},{img:"agent_yjph.png",name:"佣金排行",jump_type:2},{img:"agent_tgdd.png",name:"代理商推广订单",jump_type:8},{img:"agent_yglb.png",name:"员工列表",jump_type:12},{img:"spread_yq.png",name:"邀请好友",jump_type:5}],divisionMenuList:[{img:"spread_td.png",name:"我的团队",jump_type:9},{img:"agent_sybtgdd.png",name:"推广订单",jump_type:8},{img:"spread_tgr.png",name:"推广人排行",jump_type:1},{img:"agent_yjph.png",name:"佣金排行",jump_type:2},{img:"agent_yjmx.png",name:"佣金明细",jump_type:6},{img:"spread_yq.png",name:"邀请好友",jump_type:5}],listData:[],sel:0,speedAll:0,headerStatus:!1,isSpead:0,agentTgcg:!1,isCode:!1,code:"",codeImg:""}},computed:g(g({},(0,u.mapGetters)(["isLogin"])),{},{headerBg:function(){var e;return e=0==this.userInfo.division_type||1==this.userInfo.division_type&&1==this.userInfo.division_apply_open?"/statics/images/spread_bg.png":"/statics/images/spread_bg_fill.png",{backgroundImage:"url("+p.HTTP_REQUEST_URL+e+")"}},menus:function(){var e;return e=1==this.userInfo.division_type?this.divisionMenuList:2==this.userInfo.division_type?this.agentMenuList:this.speadMenuList,e}}),watch:{isLogin:{handler:function(e,t){},deep:!0}},onLoad:function(t){if(this.isLogin){this.agentLevelList(),this.clickTab(0);var n=e.getEnterOptionsSync();n.query.scene&&this.$Cache.set("agent_id",n.query.scene)}else(0,r.toLogin)()},onShow:function(){e.removeStorageSync("form_type_cart"),this.$Cache.get("agent_id")&&this.bindAgent()},methods:{bindAgent:function(e){var t=this;(0,a.agentSpread)({agent_code:this.$Cache.get("agent_id")}).then((function(e){t.$Cache.clear("agent_id"),t.agentTgcg=!0})).catch((function(e){t.$util.Tips({title:e})}))},moveHandle:function(){},agentLevelList:function(){var e=this;(0,a.agentLevelList)().then((function(t){var n=t.data,i=n.level_info,s=n.level_list,a=(n.task,n.user);e.levelInfo=i,e.userInfo=a,0==a.agent_id&&e.isSpead,e.levelList=s,e.headerStatus=!!s.length,e.level_id=i.id||0;var o=s.findIndex((function(e,t){return e.id===a.agent_level}));-1!==o&&(e.swiperIndex=-1===o?0:o+1);var r=e.levelList[-1===o?0:o+1];e.levelInfo.icon=r.icon,e.level_id=(void 0!==r?r.id:0)||0,e.getTask()}))},getTask:function(){var e=this;e.taskNum=0,(0,a.agentLevelTaskList)(e.level_id).then((function(t){e.task=t.data.list,e.speedAll=t.data.speedAll}))},onLoadFun:function(){this.agentLevelList(),this.clickTab(0),this.isShowAuth=!1},jumbPath:function(t){var n=this;"code"==t&&(0,a.getAgentCode)().then((function(e){n.codeImg=e.data.url,n.isCode=!0}));var i=["/pages/users/user_cash/index","/pages/users/promoter_rank/index","/pages/users/commission_rank/index","/pages/users/user_spread_code/index","/pages/users/user_vip/index","/pages/users/user_spread_code/index","/pages/users/user_spread_money/index?type=1","/pages/users/user_spread_money/index?type=4","/pages/users/promoter-order/index","/pages/users/promoter-list/index".concat(1==this.userInfo.division_type?"?type=1":""),"/pages/users/user_distribution_level/index","/pages/users/user_distribution_info/index","/pages/users/agent/staff_list"];e.navigateTo({url:i[t]})},authColse:function(e){this.isShowAuth=e},openSubscribe:function(t){e.showLoading({title:"正在加载"}),(0,o.openExtrctSubscribe)().then((function(n){e.hideLoading(),e.navigateTo({url:t})})).catch((function(){e.hideLoading()}))},getUserInfo:function(){var e=this;(0,a.getUserInfo)().then((function(t){e.$set(e,"userInfo",t.data),t.data.spread_status||e.$util.Tips({title:"您目前暂无推广权限"},{tab:4,url:"/pages/index/index"})}))},clickTab:function(e){var t=this;this.sel=e;var n=[a.moneyList,a.spreadOrder,a.spreadPeople],i={keyword:"",start:0,stop:0,page:1,limit:10};2==e&&(i=g(g({},i),{},{grade:0,sort:""})),n[e](i,3).then((function(e){t.listData=e.data.list}))},copyInvite:function(){var t=this.userInfo.division_invite;e.setClipboardData({data:t.toString(),success:function(){e.showToast({title:"已复制"})},fail:function(t){e.showToast({title:t.errMsg,icon:"none"})}})}},onPageScroll:function(t){e.$emit("scroll"),t.scrollTop>50?(this.isScrolling=!0,this.iconColor="#000000"):t.scrollTop<50&&(this.isScrolling=!1,this.iconColor="#FFFFFF")}};t.default=l}).call(this,n("df3c")["default"])},1756:function(e,t,n){"use strict";(function(e,t){var i=n("47a9");n("f076");i(n("3240"));var s=i(n("2061"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(s.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},2061:function(e,t,n){"use strict";n.r(t);var i=n("de60"),s=n("9105");for(var a in s)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("8ab6");var o=n("828b"),r=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,"645334d5",null,!1,i["a"],void 0);t["default"]=r.exports},"8ab6":function(e,t,n){"use strict";var i=n("9f2c"),s=n.n(i);s.a},9105:function(e,t,n){"use strict";n.r(t);var i=n("10fa"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"9f2c":function(e,t,n){},de60:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__get_style([e.colorStyle])),i=e.__get_style([e.headerBg]);e._isMounted||(e.e0=function(t){e.agentTgcg=!1},e.e1=function(){e.taskShow=!1}),e.$mp.data=Object.assign({},{$root:{s0:n,s1:i}})},s=[]}},[["1756","common/runtime","common/vendor"]]]);