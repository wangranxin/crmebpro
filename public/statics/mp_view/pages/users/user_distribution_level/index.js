require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/user_distribution_level/index"],{"332b":function(e,t,o){"use strict";(function(e){var n=o("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(o("7ca3")),r=o("92f9"),l=o("0f73"),a=o("5088"),c=o("8f59"),s=n(o("89cc"));function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){(0,i.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var d={components:{recommend:function(){Promise.all([o.e("common/vendor"),o.e("components/recommend/index")]).then(function(){return resolve(o("a60c"))}.bind(null,o)).catch(o.oe)},NavBar:function(){o.e("components/NavBar").then(function(){return resolve(o("a7d8"))}.bind(null,o)).catch(o.oe)}},mixins:[s.default],data:function(){return{reach_count:0,distributionLevel:[],swiperIndex:0,growthValue:!0,task:[],illustrate:"",level_id:0,hostProduct:[],grade:0,hotScroll:!1,hotPage:1,hotLimit:10,level_title:"",level_discount:"",levelInfo:{},userInfo:{},taskInfo:{},taskNum:0,isShowAuth:!1}},computed:f(f({},(0,c.mapGetters)(["isLogin"])),{},{badgeStyle:function(){var e={};return this.levelInfo.color&&(e["background"]="linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0.3) 51%, ".concat(this.colorToRgba(this.levelInfo.color,.1)," 100%)"),e["color"]=this.levelInfo.color),e}}),watch:{distributionLevel:function(){var e=this;e.distributionLevel.length>0&&e.distributionLevel.forEach((function(t,o){!1===t.is_clear&&(e.activeIndex=o,e.grade=t.grade)}))},isLogin:{handler:function(e,t){},deep:!0}},onLoad:function(){this.get_host_product(),this.isLogin?this.agentLevelList():(0,a.toLogin)()},onShow:function(){e.removeStorageSync("form_type_cart")},methods:{onLoadFun:function(){this.agentLevelList(),this.isShowAuth=!1},authColse:function(e){this.isShowAuth=e},agentLevelList:function(){var e=this;(0,r.agentLevelList)().then((function(t){var o=t.data,n=o.level_info,i=o.level_list,r=o.task,l=o.user;e.levelInfo=n,e.distributionLevel=i,e.userInfo=l,e.taskInfo=r,e.levelInfo.exp=parseFloat(e.levelInfo.exp),e.levelInfo.rate=Math.floor(e.levelInfo.exp/e.levelInfo.exp_num*100),e.levelInfo.rate>100&&(e.levelInfo.rate=100);var a=i.findIndex((function(e,t){return e.id===l.agent_level}));-1!==a&&(e.swiperIndex=-1===a?0:a+1),-1===a&&(e.levelInfo=f(f({},e.levelInfo),e.distributionLevel[0])),e.level_id=e.distributionLevel[-1===a?0:a+1].id||0,e.getTask()}))},get_host_product:function(){var e=this;e.hotScroll||(0,l.getProductHot)(e.hotPage,e.hotLimit).then((function(t){e.hotPage++,e.hotScroll=t.data.length<e.hotLimit,e.hostProduct=e.hostProduct.concat(t.data)}))},swiperChange:function(e){var t=e.detail.current;this.swiperIndex=t,this.level_id=this.distributionLevel[t].id||0,this.level_title=this.distributionLevel[t].name||"",this.level_discount=this.distributionLevel[t].discount||"",this.getTask()},growthValueClose:function(){this.growthValue=!0},opHelp:function(e){this.growthValue=!1,this.illustrate=this.task[e].desc},getTask:function(){var e=this;e.taskNum=0,(0,r.agentLevelTaskList)(e.level_id).then((function(t){e.task=t.data.list;for(var o=0;o<e.task.length;o++)e.task[o].finish&&(e.taskNum+=1)}))},jumbPath:function(t){e.navigateTo({url:["/pages/extension/invite_friend/index","/pages/goods/goods_list/index"][t]})},colorToRgba:function(e,t){if(e){var o=e.toLowerCase();if(o&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(o)){if(4===o.length){for(var n="#",i=1;i<4;i+=1)n+=o.slice(i,i+1).concat(o.slice(i,i+1));o=n}for(var r=[],l=1;l<7;l+=2)r.push(parseInt("0x".concat(o.slice(l,l+2)),16));return"rgba(".concat(r.join(","),", ").concat(t,")")}return o}}},onPageScroll:function(t){e.$emit("scroll")},onReachBottom:function(){this.hotScroll||this.get_host_product()}};t.default=d}).call(this,o("df3c")["default"])},"54a7":function(e,t,o){"use strict";o.r(t);var n=o("be3e"),i=o("e316");for(var r in i)["default"].indexOf(r)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(r);o("9577");var l=o("828b"),a=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"07476779",null,!1,n["a"],void 0);t["default"]=a.exports},6184:function(e,t,o){},9577:function(e,t,o){"use strict";var n=o("6184"),i=o.n(n);i.a},aaa4:function(e,t,o){"use strict";(function(e,t){var n=o("47a9");o("f076");n(o("3240"));var i=n(o("54a7"));e.__webpack_require_UNI_MP_PLUGIN__=o,t(i.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])},be3e:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,o=(e._self._c,e.colorToRgba(e.levelInfo.color,.1)),n=e.colorToRgba(e.levelInfo.color,0),i=e.__get_style([e.badgeStyle]),r=e.colorToRgba(e.levelInfo.color,.6),l=e.colorToRgba(e.levelInfo.color,.2),a=e.colorToRgba(e.levelInfo.color,0),c=e.colorToRgba(e.levelInfo.color,.2),s=e.task.length,u=s?e.task.length:null,f=e.task.length,d=f?e.__map(e.task,(function(t,o){var n=e.__get_orig(t),i=Math.floor(t.new_number/t.number>1?100:t.new_number/t.number*100);return{$orig:n,g3:i}})):null,h=e.hostProduct.length;e._isMounted||(e.e0=function(t){e.growthValue=!0}),e.$mp.data=Object.assign({},{$root:{m0:o,m1:n,s0:i,m2:r,m3:l,m4:a,m5:c,g0:s,g1:u,g2:f,l0:d,g4:h}})},i=[]},e316:function(e,t,o){"use strict";o.r(t);var n=o("332b"),i=o.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a}},[["aaa4","common/runtime","common/vendor"]]]);