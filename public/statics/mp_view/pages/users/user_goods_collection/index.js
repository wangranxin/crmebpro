require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/user_goods_collection/index"],{"0c36":function(t,e,o){"use strict";(function(t,e){var c=o("47a9");o("f076");c(o("3240"));var i=c(o("cb0f"));t.__webpack_require_UNI_MP_PLUGIN__=o,e(i.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])},"934f":function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){return c}));var c={easyLoadimage:function(){return o.e("components/easy-loadimage/easy-loadimage").then(o.bind(null,"94dd"))}},i=function(){var t=this.$createElement,e=(this._self._c,this.collectProductList.length),o=this.collectProductList.length&&!this.active,c=o?null:!this.collectProductList.length&&this.page>1;this.$mp.data=Object.assign({},{$root:{g0:e,g1:o,g2:c}})},n=[]},ac27:function(t,e,o){},ac3e:function(t,e,o){"use strict";(function(t){var c=o("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=c(o("89cc")),n=o("4d38"),l=o("0f73"),a=o("8f59"),s=o("5088"),u=o("95b5"),r={mixins:[i.default],computed:(0,a.mapGetters)(["isLogin"]),components:{recommend:function(){Promise.all([o.e("common/vendor"),o.e("components/recommend/index")]).then(function(){return resolve(o("a60c"))}.bind(null,o)).catch(o.oe)},BaseMoney:function(){o.e("components/BaseMoney").then(function(){return resolve(o("7202"))}.bind(null,o)).catch(o.oe)},emptyPage:function(){o.e("components/emptyPage").then(function(){return resolve(o("398a"))}.bind(null,o)).catch(o.oe)},WaterfallsFlow:function(){o.e("components/WaterfallsFlow/WaterfallsFlow").then(function(){return resolve(o("33ab"))}.bind(null,o)).catch(o.oe)}},data:function(){return{navList:[{name:"商品"},{name:"视频"}],active:0,hostProduct:[],loadTitle:"加载更多",loading:!1,loadend:!1,collectProductList:[],limit:20,page:1,hotScroll:!1,hotPage:1,hotLimit:10,imgHost:n.HTTP_REQUEST_URL,administer:0,isAllSelect:!1,count:0,isShowAuth:!1}},onLoad:function(t){this.active=t.active||0},onShow:function(){t.removeStorageSync("form_type_cart"),this.loadend=!1,this.page=1,this.collectProductList=[],this.get_host_product(),this.isLogin?this.get_user_collect_product(this.active?"video":"product"):(0,s.toLogin)()},methods:{onLoadFun:function(){this.get_user_collect_product("product"),this.isShowAuth=!1},authColse:function(t){this.isShowAuth=t},goGoods:function(e){if(this.administer)return!1;(0,u.goShopDetail)(e,this.$store.state.app.uid).catch((function(o){t.navigateTo({url:"/pages/goods_details/index?id=".concat(e.id)})}))},goVideo:function(e){if(this.administer)return!1;t.navigateTo({url:"/pages/short_video/nvueSwiper/index?id="+e})},del:function(t){var e=this,o=[];if(this.collectProductList.forEach((function(t){t.checked&&o.push(t.id)})),!o.length)return this.$util.Tips({title:"请选择收藏商品或视频"});(0,l.collectDel)(o,t).then((function(o){return e.loadend=!1,e.page=1,e.$set(e,"collectProductList",[]),e.get_user_collect_product(t),e.$util.Tips({title:o.msg})})).catch((function(t){return e.$util.Tips({title:t})}))},checkboxChange:function(t){var e=t.detail.value;this.collectProductList.forEach((function(t){-1!==e.indexOf(t.id+"")?t.checked=!0:t.checked=!1})),e.length==this.collectProductList.length?this.isAllSelect=!0:this.isAllSelect=!1},forGoods:function(t){this.collectProductList.length&&this.collectProductList.forEach((function(e){e.checked=!!t}))},checkboxAllChange:function(t){var e=t.detail.value;e.length?this.forGoods(1):this.forGoods(0)},manageTap:function(){this.administer=!this.administer},navTap:function(t){this.active=t;var e="product";e=t?"video":"product",this.isAllSelect=!1,this.forGoods(0),this.loadend=!1,this.page=1,this.$set(this,"collectProductList",[]),this.get_user_collect_product(e)},get_user_collect_product:function(t){var e=this,o=this;this.loading||this.loadend||(o.loading=!0,o.loadTitle="",(0,l.getCollectUserList)({page:o.page,limit:o.limit,category:t}).then((function(t){var c=t.data.list;c.forEach((function(t){t.checked=!1})),e.count=t.data.count;var i=c.length<o.limit;o.collectProductList=o.$util.SplitArray(c,o.collectProductList),o.$set(o,"collectProductList",o.collectProductList),o.loadend=i,o.loadTitle=i?"没有更多内容啦~":"加载更多",o.page=o.page+1,o.loading=!1})).catch((function(t){o.loading=!1,o.loadTitle="加载更多"})))},get_host_product:function(){var t=this;t.hotScroll||(0,l.getProductHot)(t.hotPage,t.hotLimit).then((function(e){t.hotPage++,t.hotScroll=e.data.length<t.hotLimit,t.hostProduct=t.hostProduct.concat(e.data)}))}},onPageScroll:function(e){t.$emit("scroll")},onReachBottom:function(){this.collectProductList.length&&this.get_user_collect_product("product")}};e.default=r}).call(this,o("df3c")["default"])},c33e:function(t,e,o){"use strict";var c=o("ac27"),i=o.n(c);i.a},cb0f:function(t,e,o){"use strict";o.r(e);var c=o("934f"),i=o("f8ee");for(var n in i)["default"].indexOf(n)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(n);o("c33e");var l=o("828b"),a=Object(l["a"])(i["default"],c["b"],c["c"],!1,null,null,null,!1,c["a"],void 0);e["default"]=a.exports},f8ee:function(t,e,o){"use strict";o.r(e);var c=o("ac3e"),i=o.n(c);for(var n in c)["default"].indexOf(n)<0&&function(t){o.d(e,t,(function(){return c[t]}))}(n);e["default"]=i.a}},[["0c36","common/runtime","common/vendor"]]]);